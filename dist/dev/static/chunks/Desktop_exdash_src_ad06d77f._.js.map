{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Desktop/exdash/src/utils/dataParser.ts"],"sourcesContent":["import * as XLSX from \"xlsx\";\nimport {\n  DataRow,\n  ColumnMapping,\n  ValidationError,\n  DataSummary,\n  ProcessedData,\n} from \"@/types\";\n\nexport function parseExcelFile(file: File): Promise<DataRow[]> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n\n    reader.onload = (e) => {\n      try {\n        const data = e.target?.result;\n        if (!data) {\n          reject(new Error(\"Failed to read file\"));\n          return;\n        }\n\n        const workbook = XLSX.read(data, { type: \"binary\" });\n        const firstSheet = workbook.Sheets[workbook.SheetNames[0]];\n        const jsonData = XLSX.utils.sheet_to_json<DataRow>(firstSheet, {\n          header: 1,\n        });\n\n        if (jsonData.length < 2) {\n          reject(\n            new Error(\n              \"File must contain at least a header row and one data row\",\n            ),\n          );\n          return;\n        }\n\n        // Convert array of arrays to array of objects using header row\n        const headers = jsonData[0] as unknown as string[];\n        const rows = jsonData.slice(1).map((row: unknown) => {\n          const rowArray = row as (string | number | Date)[];\n          const obj: DataRow = {};\n          headers.forEach((header, index) => {\n            obj[header] = rowArray[index] ?? \"\";\n          });\n          return obj;\n        });\n\n        resolve(rows);\n      } catch (error) {\n        reject(error);\n      }\n    };\n\n    reader.onerror = () => reject(new Error(\"Failed to read file\"));\n    reader.readAsBinaryString(file);\n  });\n}\n\nexport function parseCSVFile(file: File): Promise<DataRow[]> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n\n    reader.onload = (e) => {\n      try {\n        const text = e.target?.result as string;\n        if (!text) {\n          reject(new Error(\"Failed to read file\"));\n          return;\n        }\n\n        const lines = text.split(\"\\n\").filter((line) => line.trim());\n        if (lines.length < 2) {\n          reject(\n            new Error(\n              \"File must contain at least a header row and one data row\",\n            ),\n          );\n          return;\n        }\n\n        const headers = lines[0]\n          .split(\",\")\n          .map((h) => h.trim().replace(/^\"|\"$/g, \"\"));\n        const rows = lines.slice(1).map((line) => {\n          const values = line\n            .split(\",\")\n            .map((v) => v.trim().replace(/^\"|\"$/g, \"\"));\n          const obj: DataRow = {};\n          headers.forEach((header, index) => {\n            obj[header] = values[index] ?? \"\";\n          });\n          return obj;\n        });\n\n        resolve(rows);\n      } catch (error) {\n        reject(error);\n      }\n    };\n\n    reader.onerror = () => reject(new Error(\"Failed to read file\"));\n    reader.readAsText(file);\n  });\n}\n\nexport function validateData(\n  data: DataRow[],\n  mappings: ColumnMapping[],\n): ValidationError[] {\n  const errors: ValidationError[] = [];\n\n  data.forEach((row, rowIndex) => {\n    mappings.forEach((mapping) => {\n      const value = row[mapping.sourceColumn];\n\n      if (value === undefined || value === null || value === \"\") {\n        errors.push({\n          row: rowIndex + 1,\n          column: mapping.sourceColumn,\n          message: `Missing value for ${mapping.targetField}`,\n          value: value,\n        });\n        return;\n      }\n\n      switch (mapping.dataType) {\n        case \"number\":\n        case \"currency\":\n          if (isNaN(Number(value))) {\n            errors.push({\n              row: rowIndex + 1,\n              column: mapping.sourceColumn,\n              message: `Invalid number format for ${mapping.targetField}`,\n              value: value,\n            });\n          }\n          break;\n        case \"date\":\n          if (isNaN(Date.parse(String(value)))) {\n            errors.push({\n              row: rowIndex + 1,\n              column: mapping.sourceColumn,\n              message: `Invalid date format for ${mapping.targetField}`,\n              value: value,\n            });\n          }\n          break;\n      }\n    });\n  });\n\n  return errors;\n}\n\nexport function generateSummary(\n  data: DataRow[],\n  mappings: ColumnMapping[],\n): DataSummary {\n  const amountMapping = mappings.find(\n    (m) => m.targetField === \"amount\" || m.dataType === \"currency\",\n  );\n  const categoryMapping = mappings.find((m) => m.targetField === \"category\");\n  const dateMapping = mappings.find(\n    (m) => m.targetField === \"date\" || m.dataType === \"date\",\n  );\n\n  let totalAmount = 0;\n  let amountCount = 0;\n  const categories: { [key: string]: number } = {};\n\n  if (amountMapping) {\n    data.forEach((row) => {\n      const value = Number(row[amountMapping.sourceColumn]);\n      if (!isNaN(value)) {\n        totalAmount += value;\n        amountCount++;\n      }\n    });\n  }\n\n  if (categoryMapping) {\n    data.forEach((row) => {\n      const category = String(\n        row[categoryMapping.sourceColumn] || \"Uncategorized\",\n      );\n      categories[category] = (categories[category] || 0) + 1;\n    });\n  }\n\n  let period = \"\";\n  if (dateMapping && data.length > 0) {\n    const dates = data\n      .map((row) => new Date(row[dateMapping.sourceColumn] as string))\n      .filter((d) => !isNaN(d.getTime()))\n      .sort((a, b) => a.getTime() - b.getTime());\n\n    if (dates.length >= 2) {\n      period = `${dates[0].toLocaleDateString()} - ${dates[dates.length - 1].toLocaleDateString()}`;\n    }\n  }\n\n  return {\n    totalRows: data.length,\n    totalAmount: amountCount > 0 ? totalAmount : undefined,\n    averageAmount: amountCount > 0 ? totalAmount / amountCount : undefined,\n    period: period || undefined,\n    categories: Object.keys(categories).length > 0 ? categories : undefined,\n  };\n}\n\nexport function processData(\n  data: DataRow[],\n  mappings: ColumnMapping[],\n): ProcessedData {\n  const columns = Object.keys(data[0] || {});\n  const errors = validateData(data, mappings);\n  const summary = generateSummary(data, mappings);\n\n  return {\n    rawData: data,\n    columns,\n    mappings,\n    summary,\n    errors,\n  };\n}\n\nexport function autoMapColumns(\n  columns: string[],\n  requiredFields: string[],\n): ColumnMapping[] {\n  const mappings: ColumnMapping[] = [];\n\n  const fieldPatterns: {\n    [key: string]: { keywords: string[]; dataType: ColumnMapping[\"dataType\"] };\n  } = {\n    date: {\n      keywords: [\"date\", \"tanggal\", \"tgl\", \"time\", \"waktu\"],\n      dataType: \"date\",\n    },\n    amount: {\n      keywords: [\n        \"amount\",\n        \"total\",\n        \"nominal\",\n        \"harga\",\n        \"price\",\n        \"value\",\n        \"jumlah\",\n      ],\n      dataType: \"currency\",\n    },\n    category: {\n      keywords: [\"category\", \"kategori\", \"type\", \"jenis\", \"group\"],\n      dataType: \"string\",\n    },\n    description: {\n      keywords: [\n        \"description\",\n        \"deskripsi\",\n        \"detail\",\n        \"keterangan\",\n        \"notes\",\n        \"catatan\",\n      ],\n      dataType: \"string\",\n    },\n    name: {\n      keywords: [\"name\", \"nama\", \"person\", \"student\", \"employee\"],\n      dataType: \"string\",\n    },\n    status: { keywords: [\"status\", \"state\", \"condition\"], dataType: \"string\" },\n    quantity: {\n      keywords: [\"quantity\", \"qty\", \"jumlah\", \"count\"],\n      dataType: \"number\",\n    },\n  };\n\n  requiredFields.forEach((field) => {\n    const pattern = fieldPatterns[field];\n    if (!pattern) return;\n\n    const matchedColumn = columns.find((col) =>\n      pattern.keywords.some((keyword) =>\n        col.toLowerCase().includes(keyword.toLowerCase()),\n      ),\n    );\n\n    if (matchedColumn) {\n      mappings.push({\n        sourceColumn: matchedColumn,\n        targetField: field,\n        dataType: pattern.dataType,\n      });\n    }\n  });\n\n  return mappings;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 278, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Desktop/exdash/src/components/ColumnMapper.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { Settings, Check, AlertCircle, Wand2 } from \"lucide-react\";\nimport { ColumnMapping, DataRow, ReportTemplate } from \"@/types\";\nimport { autoMapColumns } from \"@/utils/dataParser\";\n\ninterface ColumnMapperProps {\n  columns: string[];\n  template: ReportTemplate;\n  onMappingComplete: (mappings: ColumnMapping[]) => void;\n  data: DataRow[];\n}\n\nconst DATA_TYPES = [\n  { value: \"string\", label: \"Text\" },\n  { value: \"number\", label: \"Number\" },\n  { value: \"date\", label: \"Date\" },\n  { value: \"currency\", label: \"Currency\" },\n];\n\nexport default function ColumnMapper({\n  columns,\n  template,\n  onMappingComplete,\n  data,\n}: ColumnMapperProps) {\n  const [mappings, setMappings] = useState<ColumnMapping[]>([]);\n  const [autoMapped, setAutoMapped] = useState(false);\n\n  useEffect(() => {\n    // Auto-map on initial load\n    if (columns.length > 0 && mappings.length === 0 && !autoMapped) {\n      handleAutoMap();\n    }\n  }, [columns]);\n\n  const handleAutoMap = () => {\n    const autoMappings = autoMapColumns(columns, [\n      ...template.requiredFields,\n      ...template.optionalFields,\n    ]);\n    setMappings(autoMappings);\n    setAutoMapped(true);\n\n    if (autoMappings.length > 0) {\n      onMappingComplete(autoMappings);\n    }\n  };\n\n  const handleMappingChange = (\n    index: number,\n    field: keyof ColumnMapping,\n    value: string,\n  ) => {\n    const newMappings = [...mappings];\n    newMappings[index] = {\n      ...newMappings[index],\n      [field]: value,\n    };\n    setMappings(newMappings);\n    onMappingComplete(newMappings);\n  };\n\n  const addMapping = () => {\n    const newMapping: ColumnMapping = {\n      sourceColumn: columns[0] || \"\",\n      targetField: \"\",\n      dataType: \"string\",\n    };\n    const newMappings = [...mappings, newMapping];\n    setMappings(newMappings);\n  };\n\n  const removeMapping = (index: number) => {\n    const newMappings = mappings.filter((_, i) => i !== index);\n    setMappings(newMappings);\n    onMappingComplete(newMappings);\n  };\n\n  const getFieldStatus = (fieldName: string) => {\n    const isRequired = template.requiredFields.includes(fieldName);\n    const isOptional = template.optionalFields.includes(fieldName);\n    const isMapped = mappings.some((m) => m.targetField === fieldName);\n\n    if (isRequired) {\n      return { status: isMapped ? \"mapped\" : \"missing\", label: \"Required\" };\n    } else if (isOptional) {\n      return { status: isMapped ? \"mapped\" : \"optional\", label: \"Optional\" };\n    }\n    return { status: \"custom\", label: \"Custom\" };\n  };\n\n  const allRequiredFieldsMapped = template.requiredFields.every((field) =>\n    mappings.some((m) => m.targetField === field),\n  );\n\n  const previewValue = (sourceColumn: string) => {\n    if (data.length === 0 || !sourceColumn) return \"\";\n    const value = data[0][sourceColumn];\n    return value !== undefined ? String(value).substring(0, 30) : \"\";\n  };\n\n  return (\n    <div className=\"w-full space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <Settings className=\"w-5 h-5 text-gray-600\" />\n          <h3 className=\"text-lg font-semibold\">Column Mapping</h3>\n        </div>\n        <button\n          onClick={handleAutoMap}\n          className=\"flex items-center gap-2 px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors\"\n        >\n          <Wand2 className=\"w-4 h-4\" />\n          Auto-Map Columns\n        </button>\n      </div>\n\n      <p className=\"text-sm text-gray-600\">\n        Map your file columns to the required fields for the {template.name}{\" \"}\n        template.\n      </p>\n\n      {/* Field Status */}\n      <div className=\"flex flex-wrap gap-2\">\n        {template.requiredFields.map((field) => {\n          const { status } = getFieldStatus(field);\n          return (\n            <span\n              key={field}\n              className={`px-3 py-1 text-xs font-medium rounded-full ${\n                status === \"mapped\"\n                  ? \"bg-green-100 text-green-700\"\n                  : \"bg-red-100 text-red-700\"\n              }`}\n            >\n              {status === \"mapped\" ? (\n                <Check className=\"w-3 h-3 inline mr-1\" />\n              ) : (\n                <AlertCircle className=\"w-3 h-3 inline mr-1\" />\n              )}\n              {field}\n            </span>\n          );\n        })}\n        {template.optionalFields.map((field) => {\n          const { status } = getFieldStatus(field);\n          if (status !== \"mapped\") return null;\n          return (\n            <span\n              key={field}\n              className=\"px-3 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-700\"\n            >\n              <Check className=\"w-3 h-3 inline mr-1\" />\n              {field}\n            </span>\n          );\n        })}\n      </div>\n\n      {/* Mapping Table */}\n      <div className=\"border rounded-lg overflow-hidden\">\n        <table className=\"w-full text-sm\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th className=\"px-4 py-3 text-left font-medium text-gray-700\">\n                Source Column\n              </th>\n              <th className=\"px-4 py-3 text-left font-medium text-gray-700\">\n                Target Field\n              </th>\n              <th className=\"px-4 py-3 text-left font-medium text-gray-700\">\n                Data Type\n              </th>\n              <th className=\"px-4 py-3 text-left font-medium text-gray-700\">\n                Preview\n              </th>\n              <th className=\"px-4 py-3 text-center font-medium text-gray-700\">\n                Actions\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"divide-y\">\n            {mappings.map((mapping, index) => (\n              <tr key={index} className=\"hover:bg-gray-50\">\n                <td className=\"px-4 py-3\">\n                  <select\n                    value={mapping.sourceColumn}\n                    onChange={(e) =>\n                      handleMappingChange(index, \"sourceColumn\", e.target.value)\n                    }\n                    className=\"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  >\n                    {columns.map((col) => (\n                      <option key={col} value={col}>\n                        {col}\n                      </option>\n                    ))}\n                  </select>\n                </td>\n                <td className=\"px-4 py-3\">\n                  <input\n                    type=\"text\"\n                    value={mapping.targetField}\n                    onChange={(e) =>\n                      handleMappingChange(index, \"targetField\", e.target.value)\n                    }\n                    placeholder=\"Field name\"\n                    className=\"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                    list=\"target-fields\"\n                  />\n                  <datalist id=\"target-fields\">\n                    {[\n                      ...template.requiredFields,\n                      ...template.optionalFields,\n                    ].map((field) => (\n                      <option key={field} value={field} />\n                    ))}\n                  </datalist>\n                </td>\n                <td className=\"px-4 py-3\">\n                  <select\n                    value={mapping.dataType}\n                    onChange={(e) =>\n                      handleMappingChange(index, \"dataType\", e.target.value)\n                    }\n                    className=\"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  >\n                    {DATA_TYPES.map((type) => (\n                      <option key={type.value} value={type.value}>\n                        {type.label}\n                      </option>\n                    ))}\n                  </select>\n                </td>\n                <td className=\"px-4 py-3 text-gray-500 text-xs\">\n                  {previewValue(mapping.sourceColumn)}\n                </td>\n                <td className=\"px-4 py-3 text-center\">\n                  <button\n                    onClick={() => removeMapping(index)}\n                    className=\"text-red-500 hover:text-red-700 font-medium\"\n                  >\n                    Remove\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Add Mapping Button */}\n      <button\n        onClick={addMapping}\n        className=\"w-full py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 font-medium hover:border-gray-400 hover:text-gray-700 transition-colors\"\n      >\n        + Add Column Mapping\n      </button>\n\n      {/* Validation Message */}\n      {!allRequiredFieldsMapped && (\n        <div className=\"flex items-start gap-2 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\n          <AlertCircle className=\"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5\" />\n          <div>\n            <p className=\"font-medium text-yellow-800\">\n              Required fields not mapped\n            </p>\n            <p className=\"text-sm text-yellow-700\">\n              Please map all required fields:{\" \"}\n              {template.requiredFields\n                .filter((f) => !mappings.some((m) => m.targetField === f))\n                .join(\", \")}\n            </p>\n          </div>\n        </div>\n      )}\n\n      {allRequiredFieldsMapped && (\n        <div className=\"flex items-center gap-2 p-4 bg-green-50 border border-green-200 rounded-lg text-green-800\">\n          <Check className=\"w-5 h-5\" />\n          <span className=\"font-medium\">All required fields are mapped!</span>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 807, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Desktop/exdash/src/utils/storage.ts"],"sourcesContent":["import { User, UserRole, SavedMapping, ReportHistory } from \"@/types\";\n\nconst STORAGE_KEYS = {\n  USERS: \"autoreport_users\",\n  CURRENT_USER: \"autoreport_current_user\",\n  MAPPINGS: \"autoreport_mappings\",\n  REPORT_HISTORY: \"autoreport_history\",\n  SETTINGS: \"autoreport_settings\",\n};\n\n// Default admin user\nconst DEFAULT_ADMIN: User = {\n  id: \"admin-1\",\n  username: \"admin\",\n  name: \"Administrator\",\n  role: \"admin\",\n  createdAt: new Date().toISOString(),\n};\n\nconst DEFAULT_USER: User = {\n  id: \"user-1\",\n  username: \"user\",\n  name: \"Regular User\",\n  role: \"user\",\n  createdAt: new Date().toISOString(),\n};\n\n// Initialize storage with default users\nexport function initializeStorage(): void {\n  if (typeof window === \"undefined\") return;\n\n  const existingUsers = localStorage.getItem(STORAGE_KEYS.USERS);\n  if (!existingUsers) {\n    localStorage.setItem(\n      STORAGE_KEYS.USERS,\n      JSON.stringify([DEFAULT_ADMIN, DEFAULT_USER]),\n    );\n  }\n}\n\n// User Management\nexport function getUsers(): User[] {\n  if (typeof window === \"undefined\") return [];\n  const users = localStorage.getItem(STORAGE_KEYS.USERS);\n  return users ? JSON.parse(users) : [];\n}\n\nexport function addUser(user: Omit<User, \"id\" | \"createdAt\">): User {\n  const users = getUsers();\n  const newUser: User = {\n    ...user,\n    id: `user-${Date.now()}`,\n    createdAt: new Date().toISOString(),\n  };\n  users.push(newUser);\n  localStorage.setItem(STORAGE_KEYS.USERS, JSON.stringify(users));\n  return newUser;\n}\n\nexport function updateUser(id: string, updates: Partial<User>): User | null {\n  const users = getUsers();\n  const index = users.findIndex((u) => u.id === id);\n  if (index === -1) return null;\n\n  users[index] = { ...users[index], ...updates };\n  localStorage.setItem(STORAGE_KEYS.USERS, JSON.stringify(users));\n  return users[index];\n}\n\nexport function deleteUser(id: string): boolean {\n  const users = getUsers();\n  const filtered = users.filter((u) => u.id !== id);\n  if (filtered.length === users.length) return false;\n  localStorage.setItem(STORAGE_KEYS.USERS, JSON.stringify(filtered));\n  return true;\n}\n\n// Authentication\nexport function login(username: string, password: string): User | null {\n  if (typeof window === \"undefined\") return null;\n\n  // Simple password check: username + \"123\"\n  const expectedPassword = `${username}123`;\n  if (password !== expectedPassword) return null;\n\n  const users = getUsers();\n  const user = users.find((u) => u.username === username);\n\n  if (user) {\n    localStorage.setItem(STORAGE_KEYS.CURRENT_USER, JSON.stringify(user));\n    return user;\n  }\n  return null;\n}\n\nexport function logout(): void {\n  if (typeof window === \"undefined\") return;\n  localStorage.removeItem(STORAGE_KEYS.CURRENT_USER);\n}\n\nexport function getCurrentUser(): User | null {\n  if (typeof window === \"undefined\") return null;\n  const user = localStorage.getItem(STORAGE_KEYS.CURRENT_USER);\n  return user ? JSON.parse(user) : null;\n}\n\nexport function isAuthenticated(): boolean {\n  return getCurrentUser() !== null;\n}\n\nexport function isAdmin(): boolean {\n  const user = getCurrentUser();\n  return user?.role === \"admin\";\n}\n\n// Saved Mappings\nexport function getSavedMappings(userId?: string): SavedMapping[] {\n  if (typeof window === \"undefined\") return [];\n  const mappings = localStorage.getItem(STORAGE_KEYS.MAPPINGS);\n  const allMappings = mappings ? JSON.parse(mappings) : [];\n\n  if (userId) {\n    return allMappings.filter((m: SavedMapping) => m.id.startsWith(userId));\n  }\n  return allMappings;\n}\n\nexport function saveMapping(\n  mapping: Omit<SavedMapping, \"id\" | \"createdAt\" | \"updatedAt\">,\n  userId: string,\n): SavedMapping {\n  const mappings = getSavedMappings();\n  const newMapping: SavedMapping = {\n    ...mapping,\n    id: `${userId}-mapping-${Date.now()}`,\n    createdAt: new Date().toISOString(),\n    updatedAt: new Date().toISOString(),\n  };\n  mappings.push(newMapping);\n  localStorage.setItem(STORAGE_KEYS.MAPPINGS, JSON.stringify(mappings));\n  return newMapping;\n}\n\nexport function deleteMapping(id: string): boolean {\n  const mappings = getSavedMappings();\n  const filtered = mappings.filter((m) => m.id !== id);\n  if (filtered.length === mappings.length) return false;\n  localStorage.setItem(STORAGE_KEYS.MAPPINGS, JSON.stringify(filtered));\n  return true;\n}\n\n// Report History\nexport function getReportHistory(userId?: string): ReportHistory[] {\n  if (typeof window === \"undefined\") return [];\n  const history = localStorage.getItem(STORAGE_KEYS.REPORT_HISTORY);\n  const allHistory = history ? JSON.parse(history) : [];\n\n  if (userId) {\n    return allHistory.filter((h: ReportHistory) => h.id.startsWith(userId));\n  }\n  return allHistory.sort(\n    (a: ReportHistory, b: ReportHistory) =>\n      new Date(b.exportedAt).getTime() - new Date(a.exportedAt).getTime(),\n  );\n}\n\nexport function addReportToHistory(\n  report: Omit<ReportHistory, \"id\" | \"exportedAt\">,\n  userId: string,\n): ReportHistory {\n  const history = getReportHistory();\n  const newReport: ReportHistory = {\n    ...report,\n    id: `${userId}-report-${Date.now()}`,\n    exportedAt: new Date().toISOString(),\n  };\n  history.unshift(newReport);\n\n  // Keep only last 100 reports per user to prevent storage overflow\n  const userReports = history\n    .filter((h) => h.id.startsWith(userId))\n    .slice(0, 100);\n  const otherReports = history.filter((h) => !h.id.startsWith(userId));\n\n  localStorage.setItem(\n    STORAGE_KEYS.REPORT_HISTORY,\n    JSON.stringify([...userReports, ...otherReports]),\n  );\n  return newReport;\n}\n\nexport function deleteReportFromHistory(id: string): boolean {\n  const history = getReportHistory();\n  const filtered = history.filter((h) => h.id !== id);\n  if (filtered.length === history.length) return false;\n  localStorage.setItem(STORAGE_KEYS.REPORT_HISTORY, JSON.stringify(filtered));\n  return true;\n}\n\nexport function clearReportHistory(userId?: string): void {\n  if (userId) {\n    const history = getReportHistory();\n    const filtered = history.filter((h) => !h.id.startsWith(userId));\n    localStorage.setItem(STORAGE_KEYS.REPORT_HISTORY, JSON.stringify(filtered));\n  } else {\n    localStorage.removeItem(STORAGE_KEYS.REPORT_HISTORY);\n  }\n}\n\n// Backup & Restore\nexport function exportAllData(): string {\n  const data = {\n    users: getUsers(),\n    mappings: getSavedMappings(),\n    history: getReportHistory(),\n    exportedAt: new Date().toISOString(),\n    version: \"1.0\",\n  };\n  return JSON.stringify(data, null, 2);\n}\n\nexport function importAllData(jsonData: string): boolean {\n  try {\n    const data = JSON.parse(jsonData);\n\n    if (data.users) {\n      localStorage.setItem(STORAGE_KEYS.USERS, JSON.stringify(data.users));\n    }\n    if (data.mappings) {\n      localStorage.setItem(\n        STORAGE_KEYS.MAPPINGS,\n        JSON.stringify(data.mappings),\n      );\n    }\n    if (data.history) {\n      localStorage.setItem(\n        STORAGE_KEYS.REPORT_HISTORY,\n        JSON.stringify(data.history),\n      );\n    }\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nexport function clearAllData(): void {\n  Object.values(STORAGE_KEYS).forEach((key) => {\n    localStorage.removeItem(key);\n  });\n  initializeStorage();\n}\n\n// Settings\nexport function getSettings(): {\n  deleteAfterExport: boolean;\n  defaultPeriod: string;\n} {\n  if (typeof window === \"undefined\")\n    return { deleteAfterExport: false, defaultPeriod: \"monthly\" };\n  const settings = localStorage.getItem(STORAGE_KEYS.SETTINGS);\n  return settings\n    ? JSON.parse(settings)\n    : { deleteAfterExport: false, defaultPeriod: \"monthly\" };\n}\n\nexport function saveSettings(settings: {\n  deleteAfterExport: boolean;\n  defaultPeriod: string;\n}): void {\n  localStorage.setItem(STORAGE_KEYS.SETTINGS, JSON.stringify(settings));\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,MAAM,eAAe;IACnB,OAAO;IACP,cAAc;IACd,UAAU;IACV,gBAAgB;IAChB,UAAU;AACZ;AAEA,qBAAqB;AACrB,MAAM,gBAAsB;IAC1B,IAAI;IACJ,UAAU;IACV,MAAM;IACN,MAAM;IACN,WAAW,IAAI,OAAO,WAAW;AACnC;AAEA,MAAM,eAAqB;IACzB,IAAI;IACJ,UAAU;IACV,MAAM;IACN,MAAM;IACN,WAAW,IAAI,OAAO,WAAW;AACnC;AAGO,SAAS;IACd;;IAEA,MAAM,gBAAgB,aAAa,OAAO,CAAC,aAAa,KAAK;IAC7D,IAAI,CAAC,eAAe;QAClB,aAAa,OAAO,CAClB,aAAa,KAAK,EAClB,KAAK,SAAS,CAAC;YAAC;YAAe;SAAa;IAEhD;AACF;AAGO,SAAS;IACd;;IACA,MAAM,QAAQ,aAAa,OAAO,CAAC,aAAa,KAAK;IACrD,OAAO,QAAQ,KAAK,KAAK,CAAC,SAAS,EAAE;AACvC;AAEO,SAAS,QAAQ,IAAoC;IAC1D,MAAM,QAAQ;IACd,MAAM,UAAgB;QACpB,GAAG,IAAI;QACP,IAAI,CAAC,KAAK,EAAE,KAAK,GAAG,IAAI;QACxB,WAAW,IAAI,OAAO,WAAW;IACnC;IACA,MAAM,IAAI,CAAC;IACX,aAAa,OAAO,CAAC,aAAa,KAAK,EAAE,KAAK,SAAS,CAAC;IACxD,OAAO;AACT;AAEO,SAAS,WAAW,EAAU,EAAE,OAAsB;IAC3D,MAAM,QAAQ;IACd,MAAM,QAAQ,MAAM,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAC9C,IAAI,UAAU,CAAC,GAAG,OAAO;IAEzB,KAAK,CAAC,MAAM,GAAG;QAAE,GAAG,KAAK,CAAC,MAAM;QAAE,GAAG,OAAO;IAAC;IAC7C,aAAa,OAAO,CAAC,aAAa,KAAK,EAAE,KAAK,SAAS,CAAC;IACxD,OAAO,KAAK,CAAC,MAAM;AACrB;AAEO,SAAS,WAAW,EAAU;IACnC,MAAM,QAAQ;IACd,MAAM,WAAW,MAAM,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAC9C,IAAI,SAAS,MAAM,KAAK,MAAM,MAAM,EAAE,OAAO;IAC7C,aAAa,OAAO,CAAC,aAAa,KAAK,EAAE,KAAK,SAAS,CAAC;IACxD,OAAO;AACT;AAGO,SAAS,MAAM,QAAgB,EAAE,QAAgB;IACtD;;IAEA,0CAA0C;IAC1C,MAAM,mBAAmB,GAAG,SAAS,GAAG,CAAC;IACzC,IAAI,aAAa,kBAAkB,OAAO;IAE1C,MAAM,QAAQ;IACd,MAAM,OAAO,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,QAAQ,KAAK;IAE9C,IAAI,MAAM;QACR,aAAa,OAAO,CAAC,aAAa,YAAY,EAAE,KAAK,SAAS,CAAC;QAC/D,OAAO;IACT;IACA,OAAO;AACT;AAEO,SAAS;IACd;;IACA,aAAa,UAAU,CAAC,aAAa,YAAY;AACnD;AAEO,SAAS;IACd;;IACA,MAAM,OAAO,aAAa,OAAO,CAAC,aAAa,YAAY;IAC3D,OAAO,OAAO,KAAK,KAAK,CAAC,QAAQ;AACnC;AAEO,SAAS;IACd,OAAO,qBAAqB;AAC9B;AAEO,SAAS;IACd,MAAM,OAAO;IACb,OAAO,MAAM,SAAS;AACxB;AAGO,SAAS,iBAAiB,MAAe;IAC9C;;IACA,MAAM,WAAW,aAAa,OAAO,CAAC,aAAa,QAAQ;IAC3D,MAAM,cAAc,WAAW,KAAK,KAAK,CAAC,YAAY,EAAE;IAExD,IAAI,QAAQ;QACV,OAAO,YAAY,MAAM,CAAC,CAAC,IAAoB,EAAE,EAAE,CAAC,UAAU,CAAC;IACjE;IACA,OAAO;AACT;AAEO,SAAS,YACd,OAA6D,EAC7D,MAAc;IAEd,MAAM,WAAW;IACjB,MAAM,aAA2B;QAC/B,GAAG,OAAO;QACV,IAAI,GAAG,OAAO,SAAS,EAAE,KAAK,GAAG,IAAI;QACrC,WAAW,IAAI,OAAO,WAAW;QACjC,WAAW,IAAI,OAAO,WAAW;IACnC;IACA,SAAS,IAAI,CAAC;IACd,aAAa,OAAO,CAAC,aAAa,QAAQ,EAAE,KAAK,SAAS,CAAC;IAC3D,OAAO;AACT;AAEO,SAAS,cAAc,EAAU;IACtC,MAAM,WAAW;IACjB,MAAM,WAAW,SAAS,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IACjD,IAAI,SAAS,MAAM,KAAK,SAAS,MAAM,EAAE,OAAO;IAChD,aAAa,OAAO,CAAC,aAAa,QAAQ,EAAE,KAAK,SAAS,CAAC;IAC3D,OAAO;AACT;AAGO,SAAS,iBAAiB,MAAe;IAC9C;;IACA,MAAM,UAAU,aAAa,OAAO,CAAC,aAAa,cAAc;IAChE,MAAM,aAAa,UAAU,KAAK,KAAK,CAAC,WAAW,EAAE;IAErD,IAAI,QAAQ;QACV,OAAO,WAAW,MAAM,CAAC,CAAC,IAAqB,EAAE,EAAE,CAAC,UAAU,CAAC;IACjE;IACA,OAAO,WAAW,IAAI,CACpB,CAAC,GAAkB,IACjB,IAAI,KAAK,EAAE,UAAU,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,UAAU,EAAE,OAAO;AAEvE;AAEO,SAAS,mBACd,MAAgD,EAChD,MAAc;IAEd,MAAM,UAAU;IAChB,MAAM,YAA2B;QAC/B,GAAG,MAAM;QACT,IAAI,GAAG,OAAO,QAAQ,EAAE,KAAK,GAAG,IAAI;QACpC,YAAY,IAAI,OAAO,WAAW;IACpC;IACA,QAAQ,OAAO,CAAC;IAEhB,kEAAkE;IAClE,MAAM,cAAc,QACjB,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,CAAC,UAAU,CAAC,SAC9B,KAAK,CAAC,GAAG;IACZ,MAAM,eAAe,QAAQ,MAAM,CAAC,CAAC,IAAM,CAAC,EAAE,EAAE,CAAC,UAAU,CAAC;IAE5D,aAAa,OAAO,CAClB,aAAa,cAAc,EAC3B,KAAK,SAAS,CAAC;WAAI;WAAgB;KAAa;IAElD,OAAO;AACT;AAEO,SAAS,wBAAwB,EAAU;IAChD,MAAM,UAAU;IAChB,MAAM,WAAW,QAAQ,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAChD,IAAI,SAAS,MAAM,KAAK,QAAQ,MAAM,EAAE,OAAO;IAC/C,aAAa,OAAO,CAAC,aAAa,cAAc,EAAE,KAAK,SAAS,CAAC;IACjE,OAAO;AACT;AAEO,SAAS,mBAAmB,MAAe;IAChD,IAAI,QAAQ;QACV,MAAM,UAAU;QAChB,MAAM,WAAW,QAAQ,MAAM,CAAC,CAAC,IAAM,CAAC,EAAE,EAAE,CAAC,UAAU,CAAC;QACxD,aAAa,OAAO,CAAC,aAAa,cAAc,EAAE,KAAK,SAAS,CAAC;IACnE,OAAO;QACL,aAAa,UAAU,CAAC,aAAa,cAAc;IACrD;AACF;AAGO,SAAS;IACd,MAAM,OAAO;QACX,OAAO;QACP,UAAU;QACV,SAAS;QACT,YAAY,IAAI,OAAO,WAAW;QAClC,SAAS;IACX;IACA,OAAO,KAAK,SAAS,CAAC,MAAM,MAAM;AACpC;AAEO,SAAS,cAAc,QAAgB;IAC5C,IAAI;QACF,MAAM,OAAO,KAAK,KAAK,CAAC;QAExB,IAAI,KAAK,KAAK,EAAE;YACd,aAAa,OAAO,CAAC,aAAa,KAAK,EAAE,KAAK,SAAS,CAAC,KAAK,KAAK;QACpE;QACA,IAAI,KAAK,QAAQ,EAAE;YACjB,aAAa,OAAO,CAClB,aAAa,QAAQ,EACrB,KAAK,SAAS,CAAC,KAAK,QAAQ;QAEhC;QACA,IAAI,KAAK,OAAO,EAAE;YAChB,aAAa,OAAO,CAClB,aAAa,cAAc,EAC3B,KAAK,SAAS,CAAC,KAAK,OAAO;QAE/B;QACA,OAAO;IACT,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAEO,SAAS;IACd,OAAO,MAAM,CAAC,cAAc,OAAO,CAAC,CAAC;QACnC,aAAa,UAAU,CAAC;IAC1B;IACA;AACF;AAGO,SAAS;IAId;;IAEA,MAAM,WAAW,aAAa,OAAO,CAAC,aAAa,QAAQ;IAC3D,OAAO,WACH,KAAK,KAAK,CAAC,YACX;QAAE,mBAAmB;QAAO,eAAe;IAAU;AAC3D;AAEO,SAAS,aAAa,QAG5B;IACC,aAAa,OAAO,CAAC,aAAa,QAAQ,EAAE,KAAK,SAAS,CAAC;AAC7D"}},
    {"offset": {"line": 1077, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Desktop/exdash/src/utils/export.ts"],"sourcesContent":["import jsPDF from \"jspdf\";\nimport autoTable from \"jspdf-autotable\";\nimport * as XLSX from \"xlsx\";\nimport { ProcessedData, ReportConfig, DataRow, ColumnMapping } from \"@/types\";\n\nexport function exportToPDF(\n  processedData: ProcessedData,\n  config: ReportConfig,\n): void {\n  const doc = new jsPDF();\n  const { rawData, mappings, summary } = processedData;\n\n  // Title\n  doc.setFontSize(20);\n  doc.text(config.title, 14, 20);\n\n  // Period\n  doc.setFontSize(12);\n  doc.text(`Period: ${config.period || summary.period || \"N/A\"}`, 14, 30);\n\n  // Summary section\n  doc.setFontSize(14);\n  doc.text(\"Summary\", 14, 45);\n\n  doc.setFontSize(10);\n  let yPos = 55;\n  doc.text(`Total Records: ${summary.totalRows}`, 14, yPos);\n  yPos += 6;\n\n  if (summary.totalAmount !== undefined) {\n    doc.text(`Total Amount: ${formatCurrency(summary.totalAmount)}`, 14, yPos);\n    yPos += 6;\n  }\n\n  if (summary.averageAmount !== undefined) {\n    doc.text(\n      `Average Amount: ${formatCurrency(summary.averageAmount)}`,\n      14,\n      yPos,\n    );\n    yPos += 6;\n  }\n\n  // Table data\n  const tableHeaders = mappings.map((m) => m.targetField);\n  const tableData = rawData.map((row) =>\n    mappings.map((m) => formatValue(row[m.sourceColumn], m.dataType)),\n  );\n\n  // Generate table\n  autoTable(doc, {\n    head: [tableHeaders],\n    body: tableData,\n    startY: yPos + 10,\n    styles: { fontSize: 8, cellPadding: 2 },\n    headStyles: { fillColor: [41, 128, 185], textColor: 255 },\n    alternateRowStyles: { fillColor: [245, 245, 245] },\n  });\n\n  // Category breakdown if available\n  if (summary.categories && Object.keys(summary.categories).length > 0) {\n    const finalY =\n      (doc as unknown as { lastAutoTable: { finalY: number } }).lastAutoTable\n        ?.finalY || 150;\n\n    doc.setFontSize(14);\n    doc.text(\"Category Breakdown\", 14, finalY + 15);\n\n    const categoryData = Object.entries(summary.categories).map(\n      ([category, count]) => [category, count.toString()],\n    );\n\n    autoTable(doc, {\n      head: [[\"Category\", \"Count\"]],\n      body: categoryData,\n      startY: finalY + 20,\n      styles: { fontSize: 10 },\n      headStyles: { fillColor: [41, 128, 185], textColor: 255 },\n    });\n  }\n\n  // Footer\n  const pageCount = doc.getNumberOfPages();\n  for (let i = 1; i <= pageCount; i++) {\n    doc.setPage(i);\n    doc.setFontSize(8);\n    doc.text(\n      `Generated on ${new Date().toLocaleString()} - Page ${i} of ${pageCount}`,\n      14,\n      doc.internal.pageSize.height - 10,\n    );\n  }\n\n  // Download\n  doc.save(\n    `${config.title.replace(/\\s+/g, \"_\")}_${new Date().toISOString().split(\"T\")[0]}.pdf`,\n  );\n}\n\nexport function exportToExcel(\n  processedData: ProcessedData,\n  config: ReportConfig,\n): void {\n  const { rawData, mappings, summary } = processedData;\n\n  // Create workbook\n  const wb = XLSX.utils.book_new();\n\n  // Main data sheet\n  const mappedData = rawData.map((row) => {\n    const mappedRow: DataRow = {};\n    mappings.forEach((m) => {\n      mappedRow[m.targetField] = row[m.sourceColumn];\n    });\n    return mappedRow;\n  });\n\n  const ws = XLSX.utils.json_to_sheet(mappedData);\n  XLSX.utils.book_append_sheet(wb, ws, \"Data\");\n\n  // Summary sheet\n  const summaryData = [\n    [\"Report Title\", config.title],\n    [\"Period\", config.period || summary.period || \"N/A\"],\n    [\"Total Records\", summary.totalRows],\n    [\"Total Amount\", summary.totalAmount || \"N/A\"],\n    [\"Average Amount\", summary.averageAmount || \"N/A\"],\n    [\"\"],\n    [\"Category Breakdown\"],\n    [\"Category\", \"Count\"],\n    ...Object.entries(summary.categories || {}),\n  ];\n\n  const summaryWs = XLSX.utils.aoa_to_sheet(summaryData);\n  XLSX.utils.book_append_sheet(wb, summaryWs, \"Summary\");\n\n  // Download\n  XLSX.writeFile(\n    wb,\n    `${config.title.replace(/\\s+/g, \"_\")}_${new Date().toISOString().split(\"T\")[0]}.xlsx`,\n  );\n}\n\nfunction formatValue(value: unknown, dataType: string): string {\n  if (value === undefined || value === null || value === \"\") {\n    return \"-\";\n  }\n\n  switch (dataType) {\n    case \"currency\":\n      return formatCurrency(Number(value));\n    case \"date\":\n      const date = new Date(String(value));\n      return isNaN(date.getTime()) ? String(value) : date.toLocaleDateString();\n    case \"number\":\n      return Number(value).toLocaleString();\n    default:\n      return String(value);\n  }\n}\n\nfunction formatCurrency(value: number): string {\n  return new Intl.NumberFormat(\"id-ID\", {\n    style: \"currency\",\n    currency: \"IDR\",\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  }).format(value);\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAGO,SAAS,YACd,aAA4B,EAC5B,MAAoB;IAEpB,MAAM,MAAM,IAAI,sLAAK;IACrB,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,GAAG;IAEvC,QAAQ;IACR,IAAI,WAAW,CAAC;IAChB,IAAI,IAAI,CAAC,OAAO,KAAK,EAAE,IAAI;IAE3B,SAAS;IACT,IAAI,WAAW,CAAC;IAChB,IAAI,IAAI,CAAC,CAAC,QAAQ,EAAE,OAAO,MAAM,IAAI,QAAQ,MAAM,IAAI,OAAO,EAAE,IAAI;IAEpE,kBAAkB;IAClB,IAAI,WAAW,CAAC;IAChB,IAAI,IAAI,CAAC,WAAW,IAAI;IAExB,IAAI,WAAW,CAAC;IAChB,IAAI,OAAO;IACX,IAAI,IAAI,CAAC,CAAC,eAAe,EAAE,QAAQ,SAAS,EAAE,EAAE,IAAI;IACpD,QAAQ;IAER,IAAI,QAAQ,WAAW,KAAK,WAAW;QACrC,IAAI,IAAI,CAAC,CAAC,cAAc,EAAE,eAAe,QAAQ,WAAW,GAAG,EAAE,IAAI;QACrE,QAAQ;IACV;IAEA,IAAI,QAAQ,aAAa,KAAK,WAAW;QACvC,IAAI,IAAI,CACN,CAAC,gBAAgB,EAAE,eAAe,QAAQ,aAAa,GAAG,EAC1D,IACA;QAEF,QAAQ;IACV;IAEA,aAAa;IACb,MAAM,eAAe,SAAS,GAAG,CAAC,CAAC,IAAM,EAAE,WAAW;IACtD,MAAM,YAAY,QAAQ,GAAG,CAAC,CAAC,MAC7B,SAAS,GAAG,CAAC,CAAC,IAAM,YAAY,GAAG,CAAC,EAAE,YAAY,CAAC,EAAE,EAAE,QAAQ;IAGjE,iBAAiB;IACjB,IAAA,8MAAS,EAAC,KAAK;QACb,MAAM;YAAC;SAAa;QACpB,MAAM;QACN,QAAQ,OAAO;QACf,QAAQ;YAAE,UAAU;YAAG,aAAa;QAAE;QACtC,YAAY;YAAE,WAAW;gBAAC;gBAAI;gBAAK;aAAI;YAAE,WAAW;QAAI;QACxD,oBAAoB;YAAE,WAAW;gBAAC;gBAAK;gBAAK;aAAI;QAAC;IACnD;IAEA,kCAAkC;IAClC,IAAI,QAAQ,UAAU,IAAI,OAAO,IAAI,CAAC,QAAQ,UAAU,EAAE,MAAM,GAAG,GAAG;QACpE,MAAM,SACJ,AAAC,IAAyD,aAAa,EACnE,UAAU;QAEhB,IAAI,WAAW,CAAC;QAChB,IAAI,IAAI,CAAC,sBAAsB,IAAI,SAAS;QAE5C,MAAM,eAAe,OAAO,OAAO,CAAC,QAAQ,UAAU,EAAE,GAAG,CACzD,CAAC,CAAC,UAAU,MAAM,GAAK;gBAAC;gBAAU,MAAM,QAAQ;aAAG;QAGrD,IAAA,8MAAS,EAAC,KAAK;YACb,MAAM;gBAAC;oBAAC;oBAAY;iBAAQ;aAAC;YAC7B,MAAM;YACN,QAAQ,SAAS;YACjB,QAAQ;gBAAE,UAAU;YAAG;YACvB,YAAY;gBAAE,WAAW;oBAAC;oBAAI;oBAAK;iBAAI;gBAAE,WAAW;YAAI;QAC1D;IACF;IAEA,SAAS;IACT,MAAM,YAAY,IAAI,gBAAgB;IACtC,IAAK,IAAI,IAAI,GAAG,KAAK,WAAW,IAAK;QACnC,IAAI,OAAO,CAAC;QACZ,IAAI,WAAW,CAAC;QAChB,IAAI,IAAI,CACN,CAAC,aAAa,EAAE,IAAI,OAAO,cAAc,GAAG,QAAQ,EAAE,EAAE,IAAI,EAAE,WAAW,EACzE,IACA,IAAI,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG;IAEnC;IAEA,WAAW;IACX,IAAI,IAAI,CACN,GAAG,OAAO,KAAK,CAAC,OAAO,CAAC,QAAQ,KAAK,CAAC,EAAE,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC;AAExF;AAEO,SAAS,cACd,aAA4B,EAC5B,MAAoB;IAEpB,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,GAAG;IAEvC,kBAAkB;IAClB,MAAM,KAAK,8JAAU,CAAC,QAAQ;IAE9B,kBAAkB;IAClB,MAAM,aAAa,QAAQ,GAAG,CAAC,CAAC;QAC9B,MAAM,YAAqB,CAAC;QAC5B,SAAS,OAAO,CAAC,CAAC;YAChB,SAAS,CAAC,EAAE,WAAW,CAAC,GAAG,GAAG,CAAC,EAAE,YAAY,CAAC;QAChD;QACA,OAAO;IACT;IAEA,MAAM,KAAK,8JAAU,CAAC,aAAa,CAAC;IACpC,8JAAU,CAAC,iBAAiB,CAAC,IAAI,IAAI;IAErC,gBAAgB;IAChB,MAAM,cAAc;QAClB;YAAC;YAAgB,OAAO,KAAK;SAAC;QAC9B;YAAC;YAAU,OAAO,MAAM,IAAI,QAAQ,MAAM,IAAI;SAAM;QACpD;YAAC;YAAiB,QAAQ,SAAS;SAAC;QACpC;YAAC;YAAgB,QAAQ,WAAW,IAAI;SAAM;QAC9C;YAAC;YAAkB,QAAQ,aAAa,IAAI;SAAM;QAClD;YAAC;SAAG;QACJ;YAAC;SAAqB;QACtB;YAAC;YAAY;SAAQ;WAClB,OAAO,OAAO,CAAC,QAAQ,UAAU,IAAI,CAAC;KAC1C;IAED,MAAM,YAAY,8JAAU,CAAC,YAAY,CAAC;IAC1C,8JAAU,CAAC,iBAAiB,CAAC,IAAI,WAAW;IAE5C,WAAW;IACX,kKAAc,CACZ,IACA,GAAG,OAAO,KAAK,CAAC,OAAO,CAAC,QAAQ,KAAK,CAAC,EAAE,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;AAEzF;AAEA,SAAS,YAAY,KAAc,EAAE,QAAgB;IACnD,IAAI,UAAU,aAAa,UAAU,QAAQ,UAAU,IAAI;QACzD,OAAO;IACT;IAEA,OAAQ;QACN,KAAK;YACH,OAAO,eAAe,OAAO;QAC/B,KAAK;YACH,MAAM,OAAO,IAAI,KAAK,OAAO;YAC7B,OAAO,MAAM,KAAK,OAAO,MAAM,OAAO,SAAS,KAAK,kBAAkB;QACxE,KAAK;YACH,OAAO,OAAO,OAAO,cAAc;QACrC;YACE,OAAO,OAAO;IAClB;AACF;AAEA,SAAS,eAAe,KAAa;IACnC,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;QACV,uBAAuB;QACvB,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ"}},
    {"offset": {"line": 1268, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Desktop/exdash/src/components/ReportHistoryViewer.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport {\n  History,\n  Download,\n  Trash2,\n  FileText,\n  Calendar,\n  Database,\n} from \"lucide-react\";\nimport { ReportHistory } from \"@/types\";\nimport {\n  getReportHistory,\n  deleteReportFromHistory,\n  clearReportHistory,\n} from \"@/utils/storage\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { exportToPDF, exportToExcel } from \"@/utils/export\";\nimport { ProcessedData } from \"@/types\";\n\nexport default function ReportHistoryViewer() {\n  const { user } = useAuth();\n  const [history, setHistory] = useState<ReportHistory[]>([]);\n  const [filter, setFilter] = useState(\"\");\n\n  useEffect(() => {\n    if (user) {\n      loadHistory();\n    }\n  }, [user]);\n\n  const loadHistory = () => {\n    const reports = getReportHistory(user?.id);\n    setHistory(reports);\n  };\n\n  const handleDelete = (id: string) => {\n    if (confirm(\"Delete this report from history?\")) {\n      deleteReportFromHistory(id);\n      loadHistory();\n    }\n  };\n\n  const handleClearAll = () => {\n    if (confirm(\"Clear all report history? This cannot be undone.\")) {\n      clearReportHistory(user?.id);\n      loadHistory();\n    }\n  };\n\n  const handleReExport = (report: ReportHistory, format: \"pdf\" | \"excel\") => {\n    // Recreate processed data from stored info\n    const processedData: ProcessedData = {\n      rawData: [], // We don't store raw data for privacy\n      columns: report.mappings.map((m) => m.sourceColumn),\n      mappings: report.mappings,\n      summary: report.summary,\n      errors: [],\n    };\n\n    if (format === \"pdf\") {\n      exportToPDF(processedData, report.config);\n    } else {\n      exportToExcel(processedData, report.config);\n    }\n  };\n\n  const filteredHistory = history.filter(\n    (report) =>\n      report.title.toLowerCase().includes(filter.toLowerCase()) ||\n      report.templateName.toLowerCase().includes(filter.toLowerCase()),\n  );\n\n  return (\n    <div className=\"bg-background rounded-xl shadow-sm border border-border p-6\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <div className=\"flex items-center gap-2\">\n          <History className=\"w-5 h-5 text-muted-foreground\" />\n          <h3 className=\"text-lg font-semibold text-foreground\">\n            Report History\n          </h3>\n        </div>\n        {history.length > 0 && (\n          <button\n            onClick={handleClearAll}\n            className=\"flex items-center gap-2 px-3 py-1.5 text-destructive hover:bg-destructive/10 rounded-lg transition-colors text-sm\"\n          >\n            <Trash2 className=\"w-4 h-4\" />\n            Clear All\n          </button>\n        )}\n      </div>\n\n      <input\n        type=\"text\"\n        placeholder=\"Search reports...\"\n        value={filter}\n        onChange={(e) => setFilter(e.target.value)}\n        className=\"w-full px-4 py-2 bg-background border border-input rounded-lg mb-4 focus:ring-2 focus:ring-ring focus:border-ring text-foreground placeholder:text-muted-foreground\"\n      />\n\n      {filteredHistory.length === 0 ? (\n        <div className=\"text-center py-8 text-muted-foreground\">\n          <FileText className=\"w-12 h-12 mx-auto mb-3 text-muted-foreground/50\" />\n          <p>No reports in history yet</p>\n        </div>\n      ) : (\n        <div className=\"space-y-3\">\n          {filteredHistory.map((report) => (\n            <div\n              key={report.id}\n              className=\"border border-border rounded-lg p-4 hover:bg-muted transition-colors bg-card\"\n            >\n              <div className=\"flex items-start justify-between\">\n                <div className=\"flex-1\">\n                  <h4 className=\"font-medium text-card-foreground\">\n                    {report.title}\n                  </h4>\n                  <div className=\"flex items-center gap-4 mt-1 text-sm text-muted-foreground\">\n                    <span className=\"flex items-center gap-1\">\n                      <Calendar className=\"w-3 h-3\" />\n                      {new Date(report.exportedAt).toLocaleString()}\n                    </span>\n                    <span className=\"flex items-center gap-1\">\n                      <Database className=\"w-3 h-3\" />\n                      {report.totalRows} rows\n                    </span>\n                    {report.totalAmount && (\n                      <span className=\"text-foreground\">\n                        Total:{\" \"}\n                        {new Intl.NumberFormat(\"id-ID\", {\n                          style: \"currency\",\n                          currency: \"IDR\",\n                          minimumFractionDigits: 0,\n                        }).format(report.totalAmount)}\n                      </span>\n                    )}\n                  </div>\n                  <p className=\"text-sm text-muted-foreground mt-1\">\n                    Template: {report.templateName}\n                  </p>\n                </div>\n                <div className=\"flex items-center gap-2 ml-4\">\n                  <button\n                    onClick={() => handleReExport(report, \"pdf\")}\n                    className=\"px-3 py-1.5 text-sm bg-destructive/10 text-destructive rounded hover:bg-destructive/20 transition-colors\"\n                  >\n                    <Download className=\"w-3 h-3 inline mr-1\" />\n                    PDF\n                  </button>\n                  <button\n                    onClick={() => handleReExport(report, \"excel\")}\n                    className=\"px-3 py-1.5 text-sm bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors\"\n                  >\n                    <Download className=\"w-3 h-3 inline mr-1\" />\n                    Excel\n                  </button>\n                  <button\n                    onClick={() => handleDelete(report.id)}\n                    className=\"p-1.5 text-muted-foreground hover:text-destructive transition-colors\"\n                  >\n                    <Trash2 className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1617, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Desktop/exdash/src/components/BackupRestore.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useRef } from \"react\";\nimport {\n  Download,\n  Upload,\n  Database,\n  Trash2,\n  AlertCircle,\n  Check,\n} from \"lucide-react\";\nimport {\n  exportAllData,\n  importAllData,\n  clearAllData,\n  getSettings,\n  saveSettings,\n} from \"@/utils/storage\";\n\nexport default function BackupRestore() {\n  const [message, setMessage] = useState<{\n    type: \"success\" | \"error\";\n    text: string;\n  } | null>(null);\n  const [settings, setSettings] = useState(getSettings());\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleExport = () => {\n    const data = exportAllData();\n    const blob = new Blob([data], { type: \"application/json\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = `autoreport-backup-${new Date().toISOString().split(\"T\")[0]}.json`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n\n    setMessage({ type: \"success\", text: \"Backup exported successfully!\" });\n    setTimeout(() => setMessage(null), 3000);\n  };\n\n  const handleImport = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    const reader = new FileReader();\n    reader.onload = (event) => {\n      const content = event.target?.result as string;\n      if (importAllData(content)) {\n        setMessage({\n          type: \"success\",\n          text: \"Data restored successfully! Please refresh the page.\",\n        });\n      } else {\n        setMessage({\n          type: \"error\",\n          text: \"Failed to restore data. Invalid backup file.\",\n        });\n      }\n      setTimeout(() => setMessage(null), 5000);\n    };\n    reader.readAsText(file);\n    e.target.value = \"\"; // Reset input\n  };\n\n  const handleClearAll = () => {\n    if (\n      confirm(\n        \"WARNING: This will delete ALL data including users, mappings, and report history. Are you sure?\",\n      )\n    ) {\n      clearAllData();\n      setMessage({\n        type: \"success\",\n        text: \"All data cleared. Please refresh the page.\",\n      });\n      setTimeout(() => setMessage(null), 5000);\n    }\n  };\n\n  const handleSettingChange = (\n    key: keyof typeof settings,\n    value: boolean | string,\n  ) => {\n    const newSettings = { ...settings, [key]: value };\n    setSettings(newSettings);\n    saveSettings(newSettings);\n  };\n\n  return (\n    <div className=\"bg-background rounded-xl shadow-sm border border-border p-6\">\n      <div className=\"flex items-center gap-2 mb-6\">\n        <Database className=\"w-5 h-5 text-muted-foreground\" />\n        <h3 className=\"text-lg font-semibold text-foreground\">\n          Data Management\n        </h3>\n      </div>\n\n      {message && (\n        <div\n          className={`mb-6 p-4 rounded-lg flex items-center gap-2 ${\n            message.type === \"success\"\n              ? \"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400\"\n              : \"bg-destructive/10 text-destructive\"\n          }`}\n        >\n          {message.type === \"success\" ? (\n            <Check className=\"w-5 h-5\" />\n          ) : (\n            <AlertCircle className=\"w-5 h-5\" />\n          )}\n          {message.text}\n        </div>\n      )}\n\n      {/* Settings */}\n      <div className=\"mb-6 p-4 bg-muted rounded-lg border border-border\">\n        <h4 className=\"font-medium text-foreground mb-4\">Settings</h4>\n        <div className=\"space-y-3\">\n          <label className=\"flex items-center gap-3 cursor-pointer\">\n            <input\n              type=\"checkbox\"\n              checked={settings.deleteAfterExport}\n              onChange={(e) =>\n                handleSettingChange(\"deleteAfterExport\", e.target.checked)\n              }\n              className=\"w-4 h-4 text-primary rounded focus:ring-ring border-border\"\n            />\n            <span className=\"text-sm text-foreground\">\n              Delete uploaded data after export (for privacy)\n            </span>\n          </label>\n          <div className=\"flex items-center gap-3\">\n            <span className=\"text-sm text-foreground\">\n              Default Period View:\n            </span>\n            <select\n              value={settings.defaultPeriod}\n              onChange={(e) =>\n                handleSettingChange(\"defaultPeriod\", e.target.value)\n              }\n              className=\"px-3 py-1 bg-background border border-input rounded text-sm text-foreground focus:ring-2 focus:ring-ring focus:border-ring\"\n            >\n              <option value=\"daily\">Daily</option>\n              <option value=\"weekly\">Weekly</option>\n              <option value=\"monthly\">Monthly</option>\n              <option value=\"yearly\">Yearly</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Backup & Restore */}\n      <div className=\"space-y-4\">\n        <h4 className=\"font-medium text-foreground\">Backup & Restore</h4>\n\n        <div className=\"flex flex-wrap gap-3\">\n          <button\n            onClick={handleExport}\n            className=\"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors\"\n          >\n            <Download className=\"w-4 h-4\" />\n            Export Backup\n          </button>\n\n          <button\n            onClick={() => fileInputRef.current?.click()}\n            className=\"flex items-center gap-2 px-4 py-2 bg-green-600 dark:bg-green-700 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-600 transition-colors\"\n          >\n            <Upload className=\"w-4 h-4\" />\n            Import Backup\n          </button>\n\n          <input\n            ref={fileInputRef}\n            type=\"file\"\n            accept=\".json\"\n            onChange={handleImport}\n            className=\"hidden\"\n          />\n        </div>\n\n        <div className=\"p-3 bg-yellow-100 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg\">\n          <p className=\"text-sm text-yellow-800 dark:text-yellow-200\">\n            <strong>Tip:</strong> Regularly export backups to prevent data loss.\n            Backup includes users, saved mappings, and report history.\n          </p>\n        </div>\n      </div>\n\n      {/* Danger Zone */}\n      <div className=\"mt-8 pt-6 border-t border-border\">\n        <h4 className=\"font-medium text-destructive mb-4\">Danger Zone</h4>\n        <button\n          onClick={handleClearAll}\n          className=\"flex items-center gap-2 px-4 py-2 border-2 border-destructive/30 text-destructive rounded-lg hover:bg-destructive/10 transition-colors\"\n        >\n          <Trash2 className=\"w-4 h-4\" />\n          Clear All Data\n        </button>\n        <p className=\"text-sm text-muted-foreground mt-2\">\n          This will permanently delete all users, mappings, and report history.\n        </p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;;;AAXA;;;;AAmBe,SAAS;;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,8LAAQ,EAG5B;IACV,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,8LAAQ,EAAC,IAAA,8JAAW;IACpD,MAAM,eAAe,IAAA,4LAAM,EAAmB;IAE9C,MAAM,eAAe;QACnB,MAAM,OAAO,IAAA,gKAAa;QAC1B,MAAM,OAAO,IAAI,KAAK;YAAC;SAAK,EAAE;YAAE,MAAM;QAAmB;QACzD,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,IAAI,SAAS,aAAa,CAAC;QACjC,EAAE,IAAI,GAAG;QACT,EAAE,QAAQ,GAAG,CAAC,kBAAkB,EAAE,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;QAC/E,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,EAAE,KAAK;QACP,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,IAAI,eAAe,CAAC;QAEpB,WAAW;YAAE,MAAM;YAAW,MAAM;QAAgC;QACpE,WAAW,IAAM,WAAW,OAAO;IACrC;IAEA,MAAM,eAAe,CAAC;QACpB,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,CAAC,MAAM;QAEX,MAAM,SAAS,IAAI;QACnB,OAAO,MAAM,GAAG,CAAC;YACf,MAAM,UAAU,MAAM,MAAM,EAAE;YAC9B,IAAI,IAAA,gKAAa,EAAC,UAAU;gBAC1B,WAAW;oBACT,MAAM;oBACN,MAAM;gBACR;YACF,OAAO;gBACL,WAAW;oBACT,MAAM;oBACN,MAAM;gBACR;YACF;YACA,WAAW,IAAM,WAAW,OAAO;QACrC;QACA,OAAO,UAAU,CAAC;QAClB,EAAE,MAAM,CAAC,KAAK,GAAG,IAAI,cAAc;IACrC;IAEA,MAAM,iBAAiB;QACrB,IACE,QACE,oGAEF;YACA,IAAA,+JAAY;YACZ,WAAW;gBACT,MAAM;gBACN,MAAM;YACR;YACA,WAAW,IAAM,WAAW,OAAO;QACrC;IACF;IAEA,MAAM,sBAAsB,CAC1B,KACA;QAEA,MAAM,cAAc;YAAE,GAAG,QAAQ;YAAE,CAAC,IAAI,EAAE;QAAM;QAChD,YAAY;QACZ,IAAA,+JAAY,EAAC;IACf;IAEA,qBACE,kNAAC;QAAI,WAAU;;0BACb,kNAAC;gBAAI,WAAU;;kCACb,kNAAC,8OAAQ;wBAAC,WAAU;;;;;;kCACpB,kNAAC;wBAAG,WAAU;kCAAwC;;;;;;;;;;;;YAKvD,yBACC,kNAAC;gBACC,WAAW,CAAC,4CAA4C,EACtD,QAAQ,IAAI,KAAK,YACb,yEACA,sCACJ;;oBAED,QAAQ,IAAI,KAAK,0BAChB,kNAAC,qOAAK;wBAAC,WAAU;;;;;6CAEjB,kNAAC,2PAAW;wBAAC,WAAU;;;;;;oBAExB,QAAQ,IAAI;;;;;;;0BAKjB,kNAAC;gBAAI,WAAU;;kCACb,kNAAC;wBAAG,WAAU;kCAAmC;;;;;;kCACjD,kNAAC;wBAAI,WAAU;;0CACb,kNAAC;gCAAM,WAAU;;kDACf,kNAAC;wCACC,MAAK;wCACL,SAAS,SAAS,iBAAiB;wCACnC,UAAU,CAAC,IACT,oBAAoB,qBAAqB,EAAE,MAAM,CAAC,OAAO;wCAE3D,WAAU;;;;;;kDAEZ,kNAAC;wCAAK,WAAU;kDAA0B;;;;;;;;;;;;0CAI5C,kNAAC;gCAAI,WAAU;;kDACb,kNAAC;wCAAK,WAAU;kDAA0B;;;;;;kDAG1C,kNAAC;wCACC,OAAO,SAAS,aAAa;wCAC7B,UAAU,CAAC,IACT,oBAAoB,iBAAiB,EAAE,MAAM,CAAC,KAAK;wCAErD,WAAU;;0DAEV,kNAAC;gDAAO,OAAM;0DAAQ;;;;;;0DACtB,kNAAC;gDAAO,OAAM;0DAAS;;;;;;0DACvB,kNAAC;gDAAO,OAAM;0DAAU;;;;;;0DACxB,kNAAC;gDAAO,OAAM;0DAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAO/B,kNAAC;gBAAI,WAAU;;kCACb,kNAAC;wBAAG,WAAU;kCAA8B;;;;;;kCAE5C,kNAAC;wBAAI,WAAU;;0CACb,kNAAC;gCACC,SAAS;gCACT,WAAU;;kDAEV,kNAAC,8OAAQ;wCAAC,WAAU;;;;;;oCAAY;;;;;;;0CAIlC,kNAAC;gCACC,SAAS,IAAM,aAAa,OAAO,EAAE;gCACrC,WAAU;;kDAEV,kNAAC,wOAAM;wCAAC,WAAU;;;;;;oCAAY;;;;;;;0CAIhC,kNAAC;gCACC,KAAK;gCACL,MAAK;gCACL,QAAO;gCACP,UAAU;gCACV,WAAU;;;;;;;;;;;;kCAId,kNAAC;wBAAI,WAAU;kCACb,cAAA,kNAAC;4BAAE,WAAU;;8CACX,kNAAC;8CAAO;;;;;;gCAAa;;;;;;;;;;;;;;;;;;0BAO3B,kNAAC;gBAAI,WAAU;;kCACb,kNAAC;wBAAG,WAAU;kCAAoC;;;;;;kCAClD,kNAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,kNAAC,4OAAM;gCAAC,WAAU;;;;;;4BAAY;;;;;;;kCAGhC,kNAAC;wBAAE,WAAU;kCAAqC;;;;;;;;;;;;;;;;;;AAM1D;GA7LwB;KAAA"}},
    {"offset": {"line": 2023, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Desktop/exdash/src/components/UserManagement.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport { Users, Plus, Trash2, Shield, User as UserIcon, X } from \"lucide-react\";\nimport { User, UserRole } from \"@/types\";\nimport { getUsers, addUser, deleteUser } from \"@/utils/storage\";\n\nexport default function UserManagement() {\n  const [users, setUsers] = useState<User[]>(getUsers());\n  const [isAdding, setIsAdding] = useState(false);\n  const [newUser, setNewUser] = useState({\n    username: \"\",\n    name: \"\",\n    role: \"user\" as UserRole,\n  });\n\n  const handleAddUser = () => {\n    if (!newUser.username || !newUser.name) return;\n\n    const user = addUser(newUser);\n    setUsers([...users, user]);\n    setIsAdding(false);\n    setNewUser({ username: \"\", name: \"\", role: \"user\" });\n  };\n\n  const handleDeleteUser = (id: string) => {\n    if (confirm(\"Are you sure you want to delete this user?\")) {\n      deleteUser(id);\n      setUsers(users.filter((u) => u.id !== id));\n    }\n  };\n\n  return (\n    <div className=\"bg-background rounded-xl shadow-sm border border-border p-6\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <div className=\"flex items-center gap-2\">\n          <Users className=\"w-5 h-5 text-muted-foreground\" />\n          <h3 className=\"text-lg font-semibold text-foreground\">\n            User Management\n          </h3>\n        </div>\n        <button\n          onClick={() => setIsAdding(true)}\n          className=\"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors\"\n        >\n          <Plus className=\"w-4 h-4\" />\n          Add User\n        </button>\n      </div>\n\n      {isAdding && (\n        <div className=\"mb-6 p-4 bg-muted rounded-lg border border-border\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h4 className=\"font-medium text-foreground\">Add New User</h4>\n            <button\n              onClick={() => setIsAdding(false)}\n              className=\"text-muted-foreground hover:text-foreground transition-colors\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <input\n              type=\"text\"\n              placeholder=\"Username\"\n              value={newUser.username}\n              onChange={(e) =>\n                setNewUser({ ...newUser, username: e.target.value })\n              }\n              className=\"px-3 py-2 bg-background border border-input rounded-lg focus:ring-2 focus:ring-ring focus:border-ring text-foreground placeholder:text-muted-foreground\"\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Full Name\"\n              value={newUser.name}\n              onChange={(e) => setNewUser({ ...newUser, name: e.target.value })}\n              className=\"px-3 py-2 bg-background border border-input rounded-lg focus:ring-2 focus:ring-ring focus:border-ring text-foreground placeholder:text-muted-foreground\"\n            />\n            <select\n              value={newUser.role}\n              onChange={(e) =>\n                setNewUser({ ...newUser, role: e.target.value as UserRole })\n              }\n              className=\"px-3 py-2 bg-background border border-input rounded-lg focus:ring-2 focus:ring-ring focus:border-ring text-foreground\"\n            >\n              <option value=\"user\">User</option>\n              <option value=\"admin\">Admin</option>\n            </select>\n          </div>\n          <p className=\"text-sm text-muted-foreground mt-2\">\n            Password will be:{\" \"}\n            <span className=\"font-mono text-foreground\">\n              {newUser.username}123\n            </span>\n          </p>\n          <button\n            onClick={handleAddUser}\n            disabled={!newUser.username || !newUser.name}\n            className=\"mt-4 px-4 py-2 bg-green-600 dark:bg-green-700 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-600 disabled:opacity-50 transition-colors\"\n          >\n            Create User\n          </button>\n        </div>\n      )}\n\n      <div className=\"overflow-x-auto border border-border rounded-lg\">\n        <table className=\"w-full text-sm\">\n          <thead className=\"bg-muted\">\n            <tr>\n              <th className=\"px-4 py-3 text-left font-medium text-foreground\">\n                Name\n              </th>\n              <th className=\"px-4 py-3 text-left font-medium text-foreground\">\n                Username\n              </th>\n              <th className=\"px-4 py-3 text-left font-medium text-foreground\">\n                Role\n              </th>\n              <th className=\"px-4 py-3 text-left font-medium text-foreground\">\n                Created\n              </th>\n              <th className=\"px-4 py-3 text-center font-medium text-foreground\">\n                Actions\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"divide-y divide-border bg-background\">\n            {users.map((user) => (\n              <tr key={user.id} className=\"hover:bg-muted/50 transition-colors\">\n                <td className=\"px-4 py-3\">\n                  <div className=\"flex items-center gap-2 text-foreground\">\n                    <UserIcon className=\"w-4 h-4 text-muted-foreground\" />\n                    {user.name}\n                  </div>\n                </td>\n                <td className=\"px-4 py-3 text-muted-foreground\">\n                  {user.username}\n                </td>\n                <td className=\"px-4 py-3\">\n                  <span\n                    className={`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs ${\n                      user.role === \"admin\"\n                        ? \"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400\"\n                        : \"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400\"\n                    }`}\n                  >\n                    {user.role === \"admin\" ? (\n                      <Shield className=\"w-3 h-3\" />\n                    ) : (\n                      <UserIcon className=\"w-3 h-3\" />\n                    )}\n                    {user.role}\n                  </span>\n                </td>\n                <td className=\"px-4 py-3 text-muted-foreground\">\n                  {new Date(user.createdAt).toLocaleDateString()}\n                </td>\n                <td className=\"px-4 py-3 text-center\">\n                  <button\n                    onClick={() => handleDeleteUser(user.id)}\n                    className=\"text-destructive/70 hover:text-destructive transition-colors\"\n                    title=\"Delete user\"\n                  >\n                    <Trash2 className=\"w-4 h-4\" />\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2463, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Desktop/exdash/src/components/SavedMappings.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { Save, FolderOpen, Trash2, Check, AlertCircle } from \"lucide-react\";\nimport { SavedMapping, ColumnMapping, ReportTemplate } from \"@/types\";\nimport { getSavedMappings, saveMapping, deleteMapping } from \"@/utils/storage\";\nimport { useAuth } from \"@/contexts/AuthContext\";\n\ninterface SavedMappingsProps {\n  template: ReportTemplate;\n  currentMappings: ColumnMapping[];\n  onLoadMapping: (mappings: ColumnMapping[]) => void;\n}\n\nexport default function SavedMappings({\n  template,\n  currentMappings,\n  onLoadMapping,\n}: SavedMappingsProps) {\n  const { user } = useAuth();\n  const [mappings, setMappings] = useState<SavedMapping[]>([]);\n  const [showSaveDialog, setShowSaveDialog] = useState(false);\n  const [mappingName, setMappingName] = useState(\"\");\n  const [message, setMessage] = useState<{\n    type: \"success\" | \"error\";\n    text: string;\n  } | null>(null);\n\n  useEffect(() => {\n    if (user) {\n      loadMappings();\n    }\n  }, [user, template.id]);\n\n  const loadMappings = () => {\n    const allMappings = getSavedMappings(user?.id);\n    const templateMappings = allMappings.filter(\n      (m) => m.templateId === template.id,\n    );\n    setMappings(templateMappings);\n  };\n\n  const handleSaveMapping = () => {\n    if (!mappingName.trim() || !user) return;\n\n    saveMapping(\n      {\n        name: mappingName,\n        templateId: template.id,\n        mappings: currentMappings,\n      },\n      user.id,\n    );\n\n    setMessage({ type: \"success\", text: \"Mapping saved successfully!\" });\n    setShowSaveDialog(false);\n    setMappingName(\"\");\n    loadMappings();\n\n    setTimeout(() => setMessage(null), 3000);\n  };\n\n  const handleLoadMapping = (mapping: SavedMapping) => {\n    onLoadMapping(mapping.mappings);\n    setMessage({ type: \"success\", text: `Loaded mapping: ${mapping.name}` });\n    setTimeout(() => setMessage(null), 3000);\n  };\n\n  const handleDeleteMapping = (id: string) => {\n    if (confirm(\"Are you sure you want to delete this saved mapping?\")) {\n      deleteMapping(id);\n      loadMappings();\n    }\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      {message && (\n        <div\n          className={`p-3 rounded-lg flex items-center gap-2 ${\n            message.type === \"success\"\n              ? \"bg-green-50 text-green-700\"\n              : \"bg-red-50 text-red-700\"\n          }`}\n        >\n          {message.type === \"success\" ? (\n            <Check className=\"w-4 h-4\" />\n          ) : (\n            <AlertCircle className=\"w-4 h-4\" />\n          )}\n          {message.text}\n        </div>\n      )}\n\n      <div className=\"flex items-center gap-2\">\n        <button\n          onClick={() => setShowSaveDialog(true)}\n          disabled={currentMappings.length === 0}\n          className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors\"\n        >\n          <Save className=\"w-4 h-4\" />\n          Save Current Mapping\n        </button>\n      </div>\n\n      {showSaveDialog && (\n        <div className=\"p-4 bg-gray-50 rounded-lg\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Mapping Name\n          </label>\n          <div className=\"flex gap-2\">\n            <input\n              type=\"text\"\n              value={mappingName}\n              onChange={(e) => setMappingName(e.target.value)}\n              placeholder=\"e.g., January 2024 Financial\"\n              className=\"flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500\"\n            />\n            <button\n              onClick={handleSaveMapping}\n              disabled={!mappingName.trim()}\n              className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50\"\n            >\n              Save\n            </button>\n            <button\n              onClick={() => setShowSaveDialog(false)}\n              className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      )}\n\n      {mappings.length > 0 && (\n        <div className=\"border rounded-lg overflow-hidden\">\n          <div className=\"px-4 py-3 bg-gray-50 border-b\">\n            <div className=\"flex items-center gap-2\">\n              <FolderOpen className=\"w-4 h-4 text-gray-600\" />\n              <span className=\"font-medium\">\n                Saved Mappings for {template.name}\n              </span>\n            </div>\n          </div>\n          <div className=\"divide-y\">\n            {mappings.map((mapping) => (\n              <div\n                key={mapping.id}\n                className=\"px-4 py-3 flex items-center justify-between hover:bg-gray-50\"\n              >\n                <div>\n                  <p className=\"font-medium text-gray-900\">{mapping.name}</p>\n                  <p className=\"text-sm text-gray-500\">\n                    {mapping.mappings.length} columns mapped {\" \"}\n                    {new Date(mapping.updatedAt).toLocaleDateString()}\n                  </p>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <button\n                    onClick={() => handleLoadMapping(mapping)}\n                    className=\"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors\"\n                  >\n                    Load\n                  </button>\n                  <button\n                    onClick={() => handleDeleteMapping(mapping.id)}\n                    className=\"p-1 text-red-500 hover:text-red-700\"\n                  >\n                    <Trash2 className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2786, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Desktop/exdash/src/components/LoginPage.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport { LogIn, User, Lock, AlertCircle, BarChart3 } from \"lucide-react\";\nimport { useAuth } from \"@/contexts/AuthContext\";\n\nexport default function LoginPage() {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const { login } = useAuth();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n    setIsLoading(true);\n\n    const success = await login(username, password);\n    if (!success) {\n      setError(\"Invalid username or password. Try: user / user\");\n    }\n\n    setIsLoading(false);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4\">\n      <div className=\"w-full max-w-md\">\n        {/* Logo & Header */}\n        <div className=\"text-center mb-8\">\n          <div className=\"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg\">\n            <BarChart3 className=\"w-8 h-8 text-white\" />\n          </div>\n          <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">AutoReport</h1>\n          <p className=\"text-gray-600 dark:text-gray-300 mt-1\">\n            Automated Reporting & Data Recap System\n          </p>\n        </div>\n\n        {/* Login Card */}\n        <div className=\"bg-white dark:bg-slate-800 rounded-2xl shadow-xl p-8\">\n          <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-6 text-center\">\n            Sign In\n          </h2>\n\n          {error && (\n            <div className=\"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-start gap-2\">\n              <AlertCircle className=\"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5\" />\n              <p className=\"text-sm text-red-700 dark:text-red-400\">{error}</p>\n            </div>\n          )}\n\n          <form onSubmit={handleSubmit} className=\"space-y-5\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Username\n              </label>\n              <div className=\"relative\">\n                <User className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  value={username}\n                  onChange={(e) => setUsername(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors bg-white dark:bg-slate-700 text-gray-900 dark:text-white\"\n                  placeholder=\"Enter username\"\n                  required\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Password\n              </label>\n              <div className=\"relative\">\n                <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" />\n                <input\n                  type=\"password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors bg-white dark:bg-slate-700 text-gray-900 dark:text-white\"\n                  placeholder=\"Enter password\"\n                  required\n                />\n              </div>\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"w-full flex items-center justify-center gap-2 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium\"\n            >\n              {isLoading ? (\n                <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n              ) : (\n                <>\n                  <LogIn className=\"w-5 h-5\" />\n                  Sign In\n                </>\n              )}\n            </button>\n          </form>\n\n          <div className=\"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700\">\n            <p className=\"text-sm text-gray-500 dark:text-gray-400 text-center mb-3\">\n              Demo Credentials\n            </p>\n            <div className=\"space-y-2 text-sm\">\n              <div className=\"flex justify-between p-2 bg-gray-50 dark:bg-slate-700 rounded\">\n                <span className=\"text-gray-600 dark:text-gray-400\">Single User:</span>\n                <span className=\"font-medium text-gray-900 dark:text-white\">\n                  user / user\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <p className=\"text-center text-sm text-gray-500 dark:text-gray-400 mt-8\">\n          Single-User Automated Reporting System\n        </p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,8LAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,8LAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,8LAAQ,EAAC;IACnC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,8LAAQ,EAAC;IAC3C,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,kKAAO;IAEzB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QACT,aAAa;QAEb,MAAM,UAAU,MAAM,MAAM,UAAU;QACtC,IAAI,CAAC,SAAS;YACZ,SAAS;QACX;QAEA,aAAa;IACf;IAEA,qBACE,kNAAC;QAAI,WAAU;kBACb,cAAA,kNAAC;YAAI,WAAU;;8BAEb,kNAAC;oBAAI,WAAU;;sCACb,kNAAC;4BAAI,WAAU;sCACb,cAAA,kNAAC,uPAAS;gCAAC,WAAU;;;;;;;;;;;sCAEvB,kNAAC;4BAAG,WAAU;sCAAmD;;;;;;sCACjE,kNAAC;4BAAE,WAAU;sCAAwC;;;;;;;;;;;;8BAMvD,kNAAC;oBAAI,WAAU;;sCACb,kNAAC;4BAAG,WAAU;sCAAuE;;;;;;wBAIpF,uBACC,kNAAC;4BAAI,WAAU;;8CACb,kNAAC,2PAAW;oCAAC,WAAU;;;;;;8CACvB,kNAAC;oCAAE,WAAU;8CAA0C;;;;;;;;;;;;sCAI3D,kNAAC;4BAAK,UAAU;4BAAc,WAAU;;8CACtC,kNAAC;;sDACC,kNAAC;4CAAM,WAAU;sDAAkE;;;;;;sDAGnF,kNAAC;4CAAI,WAAU;;8DACb,kNAAC,kOAAI;oDAAC,WAAU;;;;;;8DAChB,kNAAC;oDACC,MAAK;oDACL,OAAO;oDACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oDAC3C,WAAU;oDACV,aAAY;oDACZ,QAAQ;;;;;;;;;;;;;;;;;;8CAKd,kNAAC;;sDACC,kNAAC;4CAAM,WAAU;sDAAkE;;;;;;sDAGnF,kNAAC;4CAAI,WAAU;;8DACb,kNAAC,kOAAI;oDAAC,WAAU;;;;;;8DAChB,kNAAC;oDACC,MAAK;oDACL,OAAO;oDACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oDAC3C,WAAU;oDACV,aAAY;oDACZ,QAAQ;;;;;;;;;;;;;;;;;;8CAKd,kNAAC;oCACC,MAAK;oCACL,UAAU;oCACV,WAAU;8CAET,0BACC,kNAAC;wCAAI,WAAU;;;;;6DAEf;;0DACE,kNAAC,yOAAK;gDAAC,WAAU;;;;;;4CAAY;;;;;;;;;;;;;;sCAOrC,kNAAC;4BAAI,WAAU;;8CACb,kNAAC;oCAAE,WAAU;8CAA4D;;;;;;8CAGzE,kNAAC;oCAAI,WAAU;8CACb,cAAA,kNAAC;wCAAI,WAAU;;0DACb,kNAAC;gDAAK,WAAU;0DAAmC;;;;;;0DACnD,kNAAC;gDAAK,WAAU;0DAA4C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BASpE,kNAAC;oBAAE,WAAU;8BAA4D;;;;;;;;;;;;;;;;;AAMjF;GAxHwB;;QAKJ,kKAAO;;;KALH"}},
    {"offset": {"line": 3115, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Desktop/exdash/src/types/index.ts"],"sourcesContent":["export interface DataRow {\n  [key: string]: string | number | Date;\n}\n\nexport interface ColumnMapping {\n  sourceColumn: string;\n  targetField: string;\n  dataType: \"string\" | \"number\" | \"date\" | \"currency\";\n}\n\nexport interface SavedMapping {\n  id: string;\n  name: string;\n  templateId: string;\n  mappings: ColumnMapping[];\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface ReportTemplate {\n  id: string;\n  name: string;\n  description: string;\n  type: \"financial\" | \"attendance\" | \"inventory\";\n  requiredFields: string[];\n  optionalFields: string[];\n}\n\nexport interface ProcessedData {\n  rawData: DataRow[];\n  columns: string[];\n  mappings: ColumnMapping[];\n  summary: DataSummary;\n  errors: ValidationError[];\n}\n\nexport interface DataSummary {\n  totalRows: number;\n  totalAmount?: number;\n  averageAmount?: number;\n  period?: string;\n  categories?: { [key: string]: number };\n}\n\nexport interface ValidationError {\n  row: number;\n  column: string;\n  message: string;\n  value: unknown;\n}\n\nexport interface ReportConfig {\n  title: string;\n  period: string;\n  template: ReportTemplate;\n  includeCharts: boolean;\n  groupBy?: string;\n  deleteAfterExport?: boolean;\n}\n\nexport interface ReportHistory {\n  id: string;\n  title: string;\n  templateName: string;\n  period: string;\n  totalRows: number;\n  totalAmount?: number;\n  exportedAt: string;\n  exportedFormats: (\"pdf\" | \"excel\")[];\n  config: ReportConfig;\n  mappings: ColumnMapping[];\n  summary: DataSummary;\n}\n\nexport type UserRole = \"admin\" | \"user\";\n\nexport interface User {\n  id: string;\n  username: string;\n  name: string;\n  role: UserRole;\n  createdAt: string;\n}\n\nexport interface AuthState {\n  isAuthenticated: boolean;\n  user: User | null;\n}\n\nexport const REPORT_TEMPLATES: ReportTemplate[] = [\n  {\n    id: \"financial-summary\",\n    name: \"Financial Summary\",\n    description:\n      \"Generate financial reports with income, expenses, and balance calculations\",\n    type: \"financial\",\n    requiredFields: [\"date\", \"amount\", \"category\"],\n    optionalFields: [\"description\", \"reference\", \"notes\"],\n  },\n  {\n    id: \"attendance-report\",\n    name: \"Attendance Report\",\n    description: \"Track attendance records with summaries by person and date\",\n    type: \"attendance\",\n    requiredFields: [\"date\", \"name\", \"status\"],\n    optionalFields: [\"check_in\", \"check_out\", \"department\", \"notes\"],\n  },\n  {\n    id: \"inventory-report\",\n    name: \"Inventory Report\",\n    description: \"Monitor inventory levels, stock movements, and valuations\",\n    type: \"inventory\",\n    requiredFields: [\"item_name\", \"quantity\", \"unit_price\"],\n    optionalFields: [\"category\", \"sku\", \"location\", \"date\"],\n  },\n];\n"],"names":[],"mappings":";;;;AAyFO,MAAM,mBAAqC;IAChD;QACE,IAAI;QACJ,MAAM;QACN,aACE;QACF,MAAM;QACN,gBAAgB;YAAC;YAAQ;YAAU;SAAW;QAC9C,gBAAgB;YAAC;YAAe;YAAa;SAAQ;IACvD;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,MAAM;QACN,gBAAgB;YAAC;YAAQ;YAAQ;SAAS;QAC1C,gBAAgB;YAAC;YAAY;YAAa;YAAc;SAAQ;IAClE;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,MAAM;QACN,gBAAgB;YAAC;YAAa;YAAY;SAAa;QACvD,gBAAgB;YAAC;YAAY;YAAO;YAAY;SAAO;IACzD;CACD"}},
    {"offset": {"line": 3178, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Desktop/exdash/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,8LAAO,EAAC,IAAA,qKAAI,EAAC;AACtB"}},
    {"offset": {"line": 3196, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Desktop/exdash/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        xs: \"h-6 gap-1 rounded-md px-2 text-xs has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-xs\": \"size-6 rounded-md [&_svg:not([class*='size-'])]:size-3\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant = \"default\",\n  size = \"default\",\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      data-variant={variant}\n      data-size={size}\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,+LAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,SAAS,EAChB,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,gMAAI,GAAG;IAE9B,qBACE,kNAAC;QACC,aAAU;QACV,gBAAc;QACd,aAAW;QACX,WAAW,IAAA,iJAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KArBS"}},
    {"offset": {"line": 3265, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Desktop/exdash/src/components/mode-toggle.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Moon, Sun } from \"lucide-react\";\nimport { useTheme } from \"next-themes\";\n\nimport { Button } from \"@/components/ui/button\";\n\nexport function ModeToggle() {\n  const { setTheme, theme, resolvedTheme } = useTheme();\n  const [mounted, setMounted] = React.useState(false);\n\n  React.useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  const toggleTheme = () => {\n    const html = document.documentElement;\n    \n    if (resolvedTheme === \"light\") {\n      html.classList.remove(\"light\");\n      html.classList.add(\"dark\");\n      setTheme(\"dark\");\n    } else if (resolvedTheme === \"dark\") {\n      html.classList.remove(\"dark\");\n      html.classList.add(\"light\");\n      setTheme(\"light\");\n    }\n  };\n\n  // Prevent hydration mismatch\n  if (!mounted) {\n    return (\n      <Button variant=\"outline\" size=\"icon\" disabled>\n        <Sun className=\"h-[1.2rem] w-[1.2rem]\" />\n        <span className=\"sr-only\">Toggle theme</span>\n      </Button>\n    );\n  }\n\n  return (\n    <Button variant=\"outline\" size=\"icon\" onClick={toggleTheme}>\n      <Sun className=\"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\n      <Moon className=\"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\n      <span className=\"sr-only\">Toggle theme</span>\n    </Button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAEA;;;AANA;;;;;AAQO,SAAS;;IACd,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,aAAa,EAAE,GAAG,IAAA,oLAAQ;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,8LAAc,CAAC;IAE7C,+LAAe;gCAAC;YACd,WAAW;QACb;+BAAG,EAAE;IAEL,MAAM,cAAc;QAClB,MAAM,OAAO,SAAS,eAAe;QAErC,IAAI,kBAAkB,SAAS;YAC7B,KAAK,SAAS,CAAC,MAAM,CAAC;YACtB,KAAK,SAAS,CAAC,GAAG,CAAC;YACnB,SAAS;QACX,OAAO,IAAI,kBAAkB,QAAQ;YACnC,KAAK,SAAS,CAAC,MAAM,CAAC;YACtB,KAAK,SAAS,CAAC,GAAG,CAAC;YACnB,SAAS;QACX;IACF;IAEA,6BAA6B;IAC7B,IAAI,CAAC,SAAS;QACZ,qBACE,kNAAC,oKAAM;YAAC,SAAQ;YAAU,MAAK;YAAO,QAAQ;;8BAC5C,kNAAC,+NAAG;oBAAC,WAAU;;;;;;8BACf,kNAAC;oBAAK,WAAU;8BAAU;;;;;;;;;;;;IAGhC;IAEA,qBACE,kNAAC,oKAAM;QAAC,SAAQ;QAAU,MAAK;QAAO,SAAS;;0BAC7C,kNAAC,+NAAG;gBAAC,WAAU;;;;;;0BACf,kNAAC,kOAAI;gBAAC,WAAU;;;;;;0BAChB,kNAAC;gBAAK,WAAU;0BAAU;;;;;;;;;;;;AAGhC;GAvCgB;;QAC6B,oLAAQ;;;KADrC"}},
    {"offset": {"line": 3381, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Desktop/exdash/src/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useCallback } from \"react\";\nimport {\n  FileText,\n  Settings,\n  BarChart3,\n  ChevronRight,\n  CheckCircle2,\n  LogOut,\n  User,\n  Shield,\n  History,\n  Database,\n  Users,\n  Upload,\n  FileSpreadsheet,\n  AlertCircle,\n  Check,\n  Loader2,\n  Download,\n  ArrowLeft,\n  ArrowRight,\n} from \"lucide-react\";\nimport { useRouter } from \"next/navigation\";\nimport ColumnMapper from \"@/components/ColumnMapper\";\nimport ReportHistoryViewer from \"@/components/ReportHistoryViewer\";\nimport BackupRestore from \"@/components/BackupRestore\";\nimport UserManagement from \"@/components/UserManagement\";\nimport SavedMappings from \"@/components/SavedMappings\";\nimport LoginPage from \"@/components/LoginPage\";\nimport {\n  DataRow,\n  ColumnMapping,\n  ReportTemplate,\n  ProcessedData,\n  ReportConfig,\n  REPORT_TEMPLATES,\n} from \"@/types\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { addReportToHistory, getSettings } from \"@/utils/storage\";\nimport { ModeToggle } from \"@/components/mode-toggle\";\n\nconst TABS = [\n  { id: \"report\", label: \"New Report\", icon: FileText },\n  { id: \"history\", label: \"History\", icon: History },\n  { id: \"settings\", label: \"Settings\", icon: Database },\n  { id: \"admin\", label: \"Admin\", icon: Users, adminOnly: true },\n];\n\nconst STEPS = [\n  { id: \"upload\", label: \"Upload Data\", icon: FileText },\n  { id: \"map\", label: \"Map Columns\", icon: Settings },\n  { id: \"preview\", label: \"Preview & Export\", icon: BarChart3 },\n];\n\n// FileUpload component that uses API\nfunction FileUploadAPI({\n  onUploadComplete,\n  onError,\n}: {\n  onUploadComplete: (fileId: string, columns: string[]) => void;\n  onError: (error: string) => void;\n}) {\n  const [isDragging, setIsDragging] = useState(false);\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadedFile, setUploadedFile] = useState<string | null>(null);\n\n  const handleFile = async (file: File) => {\n    setIsUploading(true);\n    setUploadedFile(null);\n\n    try {\n      const fileExtension = file.name.split(\".\").pop()?.toLowerCase();\n      if (![\"xlsx\", \"xls\", \"csv\"].includes(fileExtension || \"\")) {\n        throw new Error(\"Unsupported file format. Please upload .xlsx, .xls, or .csv files.\");\n      }\n\n      const formData = new FormData();\n      formData.append(\"file\", file);\n\n      const response = await fetch(\"/api/upload\", {\n        method: \"POST\",\n        body: formData,\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.error || \"Failed to upload file\");\n      }\n\n      const data = await response.json();\n      setUploadedFile(file.name);\n      onUploadComplete(data.fileId, data.columns);\n    } catch (error) {\n      onError(error instanceof Error ? error.message : \"Failed to upload file\");\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  const onDrop = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n    const files = e.dataTransfer.files;\n    if (files.length > 0) {\n      handleFile(files[0]);\n    }\n  }, []);\n\n  const onDragOver = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(true);\n  }, []);\n\n  const onDragLeave = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n  }, []);\n\n  const onFileInput = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = e.target.files;\n    if (files && files.length > 0) {\n      handleFile(files[0]);\n    }\n  };\n\n  return (\n    <div className=\"w-full\">\n      <div\n        onDrop={onDrop}\n        onDragOver={onDragOver}\n        onDragLeave={onDragLeave}\n        className={`\n          relative border-2 border-dashed rounded-xl p-8 text-center transition-all duration-200 cursor-pointer\n          ${isDragging ? \"border-blue-500 bg-blue-50 dark:bg-blue-950/30\" : \"border-border hover:border-muted-foreground bg-muted/50\"}\n          ${isUploading ? \"opacity-50 pointer-events-none\" : \"\"}\n        `}\n      >\n        <input\n          type=\"file\"\n          accept=\".xlsx,.xls,.csv\"\n          onChange={onFileInput}\n          className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\n          disabled={isUploading}\n        />\n        <div className=\"flex flex-col items-center gap-4\">\n          {isUploading ? (\n            <div className=\"flex flex-col items-center gap-3\">\n              <Loader2 className=\"w-12 h-12 text-primary animate-spin\" />\n              <p className=\"text-muted-foreground\">Uploading file...</p>\n            </div>\n          ) : uploadedFile ? (\n            <>\n              <div className=\"w-12 h-12 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center\">\n                <Check className=\"w-6 h-6 text-green-600 dark:text-green-400\" />\n              </div>\n              <div>\n                <p className=\"text-lg font-medium text-foreground\">{uploadedFile}</p>\n                <p className=\"text-sm text-muted-foreground\">Click or drag to upload a different file</p>\n              </div>\n            </>\n          ) : (\n            <>\n              <div className=\"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center\">\n                <Upload className=\"w-6 h-6 text-primary\" />\n              </div>\n              <div>\n                <p className=\"text-lg font-medium text-foreground\">Drop your file here, or click to browse</p>\n                <p className=\"text-sm text-muted-foreground mt-1\">Supports Excel (.xlsx, .xls) and CSV files (max 5MB)</p>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n      <div className=\"mt-4 flex gap-4 justify-center\">\n        <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n          <FileSpreadsheet className=\"w-4 h-4\" />\n          <span>Excel files</span>\n        </div>\n        <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n          <FileText className=\"w-4 h-4\" />\n          <span>CSV files</span>\n        </div>\n      </div>\n      <div className=\"mt-4 flex items-start gap-2 text-sm text-muted-foreground bg-muted p-3 rounded-lg\">\n        <AlertCircle className=\"w-4 h-4 mt-0.5 flex-shrink-0\" />\n        <p>Make sure your file has a header row with column names. First row will be used as column headers.</p>\n      </div>\n    </div>\n  );\n}\n\nexport default function Dashboard() {\n  const { isAuthenticated, user, isAdmin, logout } = useAuth();\n  const router = useRouter();\n  const [activeTab, setActiveTab] = useState(\"report\");\n  const [currentStep, setCurrentStep] = useState(0);\n  \n  // API-based state\n  const [fileId, setFileId] = useState<string>(\"\");\n  const [columns, setColumns] = useState<string[]>([]);\n  const [previewData, setPreviewData] = useState<DataRow[]>([]);\n  const [selectedTemplate, setSelectedTemplate] = useState<ReportTemplate>(REPORT_TEMPLATES[0]);\n  const [mappings, setMappings] = useState<ColumnMapping[]>([]);\n  const [reportId, setReportId] = useState<string>(\"\");\n  const [processedData, setProcessedData] = useState<ProcessedData | null>(null);\n  const [reportConfig, setReportConfig] = useState<ReportConfig>({\n    title: \"\",\n    period: \"\",\n    template: REPORT_TEMPLATES[0],\n    includeCharts: false,\n    deleteAfterExport: getSettings().deleteAfterExport,\n  });\n  \n  const [error, setError] = useState<string>(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  if (!isAuthenticated) {\n    return <LoginPage />;\n  }\n\n  const handleUploadComplete = async (uploadedFileId: string, fileColumns: string[]) => {\n    setFileId(uploadedFileId);\n    setColumns(fileColumns);\n    setError(\"\");\n    setCurrentStep(1);\n    \n    // Fetch preview data\n    try {\n      const response = await fetch(\"/api/parse\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ fileId: uploadedFileId }),\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setPreviewData(data.preview);\n      }\n    } catch {\n      // Preview is optional, continue without it\n    }\n  };\n\n  const handleError = (errorMessage: string) => {\n    setError(errorMessage);\n  };\n\n  const handleMappingComplete = (newMappings: ColumnMapping[]) => {\n    setMappings(newMappings);\n  };\n\n  const handleSaveMappingAndGenerate = async () => {\n    if (!fileId || mappings.length === 0) {\n      setError(\"Please configure column mappings first\");\n      return;\n    }\n\n    setIsLoading(true);\n    setError(\"\");\n\n    try {\n      // Convert ColumnMapping[] to the format expected by API\n      const mappingObject: Record<string, string> = {};\n      mappings.forEach((m) => {\n        mappingObject[m.targetField] = m.sourceColumn;\n      });\n\n      // Save mapping\n      const mappingResponse = await fetch(\"/api/mapping\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          fileId,\n          mapping: mappingObject,\n        }),\n      });\n\n      if (!mappingResponse.ok) {\n        const error = await mappingResponse.json();\n        throw new Error(error.error || \"Failed to save mapping\");\n      }\n\n      // Generate report\n      const generateResponse = await fetch(\"/api/report/generate\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          fileId,\n          reportType: \"monthly\",\n        }),\n      });\n\n      if (!generateResponse.ok) {\n        const error = await generateResponse.json();\n        throw new Error(error.error || \"Failed to generate report\");\n      }\n\n      const reportData = await generateResponse.json();\n      setReportId(reportData.reportId);\n      \n      // Convert API response to ProcessedData format\n      const processed: ProcessedData = {\n        rawData: reportData.data || [],\n        columns: Object.keys(reportData.data?.[0] || {}),\n        mappings,\n        summary: {\n          totalRows: reportData.summary?.count || 0,\n          totalAmount: reportData.summary?.total,\n          averageAmount: reportData.summary?.average,\n          period: reportData.summary?.period,\n          categories: reportData.summary?.categories,\n        },\n        errors: [],\n      };\n      \n      setProcessedData(processed);\n      \n      const title = reportConfig.title || `${selectedTemplate.name} - ${fileId}`;\n      setReportConfig((prev) => ({\n        ...prev,\n        title,\n        template: selectedTemplate,\n      }));\n      \n      setCurrentStep(2);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to generate report\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleExport = async (format: \"pdf\" | \"excel\") => {\n    if (!reportId || !processedData || !user) return;\n\n    setIsLoading(true);\n    try {\n      const response = await fetch(\"/api/export\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          reportId,\n          format: format === \"excel\" ? \"xlsx\" : \"pdf\",\n        }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.error || \"Failed to export report\");\n      }\n\n      const data = await response.json();\n      \n      // Trigger download\n      window.open(data.downloadUrl, \"_blank\");\n      \n      // Add to history\n      addReportToHistory(\n        {\n          title: reportConfig.title,\n          templateName: selectedTemplate.name,\n          period: reportConfig.period || processedData.summary.period || \"N/A\",\n          totalRows: processedData.summary.totalRows,\n          totalAmount: processedData.summary.totalAmount,\n          exportedFormats: [format],\n          config: reportConfig,\n          mappings: mappings,\n          summary: processedData.summary,\n        },\n        user.id,\n      );\n\n      if (reportConfig.deleteAfterExport) {\n        setTimeout(() => {\n          setFileId(\"\");\n          setColumns([]);\n          setPreviewData([]);\n          setMappings([]);\n          setReportId(\"\");\n          setProcessedData(null);\n          setCurrentStep(0);\n        }, 1000);\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to export report\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const allRequiredFieldsMapped = selectedTemplate.requiredFields.every((field) =>\n    mappings.some((m) => m.targetField === field)\n  );\n\n  const resetReport = () => {\n    setCurrentStep(0);\n    setFileId(\"\");\n    setColumns([]);\n    setPreviewData([]);\n    setMappings([]);\n    setReportId(\"\");\n    setProcessedData(null);\n    setReportConfig({\n      title: \"\",\n      period: \"\",\n      template: selectedTemplate,\n      includeCharts: false,\n      deleteAfterExport: getSettings().deleteAfterExport,\n    });\n    setError(\"\");\n  };\n\n  const handleLogoClick = () => {\n    router.push(\"/\");\n  };\n\n  return (\n    <main className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <header className=\"bg-background border-b sticky top-0 z-10\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between h-16\">\n            <div className=\"flex items-center gap-3 cursor-pointer\" onClick={handleLogoClick}>\n              <div className=\"w-10 h-10 bg-primary rounded-lg flex items-center justify-center\">\n                <BarChart3 className=\"w-6 h-6 text-primary-foreground\" />\n              </div>\n              <div>\n                <h1 className=\"text-xl font-bold text-foreground\">AutoReport</h1>\n                <p className=\"text-xs text-muted-foreground\">Automated Reporting & Data Recap System</p>\n              </div>\n            </div>\n\n            <div className=\"flex items-center gap-6\">\n              <nav className=\"hidden md:flex items-center gap-1\">\n                {TABS.filter((tab) => !tab.adminOnly || isAdmin).map((tab) => {\n                  const Icon = tab.icon;\n                  return (\n                    <button\n                      key={tab.id}\n                      onClick={() => setActiveTab(tab.id)}\n                      className={`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n                        activeTab === tab.id\n                          ? \"bg-primary/10 text-primary dark:bg-primary/20\"\n                          : \"text-muted-foreground hover:bg-muted\"\n                      }`}\n                    >\n                      <Icon className=\"w-4 h-4\" />\n                      {tab.label}\n                    </button>\n                  );\n                })}\n              </nav>\n              <ModeToggle />\n              <div className=\"flex items-center gap-3 pl-6 border-l border-border\">\n                <div className=\"text-right hidden sm:block\">\n                  <p className=\"text-sm font-medium text-foreground\">{user?.name}</p>\n                  <p className=\"text-xs text-muted-foreground flex items-center gap-1 justify-end\">\n                    {isAdmin ? <><Shield className=\"w-3 h-3\" /> Admin</> : <><User className=\"w-3 h-3\" /> User</>}\n                  </p>\n                </div>\n                <button onClick={logout} className=\"p-2 text-muted-foreground hover:text-destructive transition-colors\" title=\"Logout\">\n                  <LogOut className=\"w-5 h-5\" />\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Mobile Navigation */}\n      <div className=\"md:hidden bg-background border-b\">\n        <div className=\"flex overflow-x-auto\">\n          {TABS.filter((tab) => !tab.adminOnly || isAdmin).map((tab) => {\n            const Icon = tab.icon;\n            return (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id)}\n                className={`flex items-center gap-2 px-4 py-3 text-sm font-medium whitespace-nowrap transition-colors ${\n                  activeTab === tab.id ? \"text-primary border-b-2 border-primary\" : \"text-muted-foreground\"\n                }`}\n              >\n                <Icon className=\"w-4 h-4\" />\n                {tab.label}\n              </button>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {error && (\n          <div className=\"mb-6 p-4 bg-destructive/10 border border-destructive/20 rounded-lg text-destructive\">\n            {error}\n          </div>\n        )}\n\n        {/* Report Tab */}\n        {activeTab === \"report\" && (\n          <>\n            {/* Progress Steps */}\n            <div className=\"bg-background border border-border rounded-lg mb-6\">\n              <div className=\"px-4 sm:px-6 py-4\">\n                <div className=\"flex items-center\">\n                  {STEPS.map((step, index) => {\n                    const Icon = step.icon;\n                    const isActive = index === currentStep;\n                    const isCompleted = index < currentStep;\n                    return (\n                      <React.Fragment key={step.id}>\n                        <div className={`flex items-center gap-2 ${isActive ? \"text-primary\" : isCompleted ? \"text-green-600 dark:text-green-400\" : \"text-muted-foreground\"}`}>\n                          <div className={`w-8 h-8 rounded-full flex items-center justify-center ${isActive ? \"bg-primary/10\" : isCompleted ? \"bg-green-100 dark:bg-green-900/30\" : \"bg-muted\"}`}>\n                            {isCompleted ? <CheckCircle2 className=\"w-5 h-5\" /> : <Icon className=\"w-4 h-4\" />}\n                          </div>\n                          <span className=\"text-sm font-medium hidden sm:block\">{step.label}</span>\n                        </div>\n                        {index < STEPS.length - 1 && <ChevronRight className=\"w-5 h-5 text-border mx-2\" />}\n                      </React.Fragment>\n                    );\n                  })}\n                </div>\n              </div>\n            </div>\n\n            {/* Step 1: Upload */}\n            {currentStep === 0 && (\n              <div className=\"max-w-2xl mx-auto\">\n                <div className=\"bg-background rounded-xl shadow-sm border border-border p-6 mb-6\">\n                  <h2 className=\"text-2xl font-bold text-foreground mb-2\">Upload Your Data</h2>\n                  <p className=\"text-muted-foreground mb-6\">\n                    Start by uploading your Excel or CSV file. We&apos;ll process it on the server\n                    and extract the column headers for mapping.\n                  </p>\n                  <FileUploadAPI onUploadComplete={handleUploadComplete} onError={handleError} />\n                </div>\n                <div className=\"bg-background rounded-xl shadow-sm border border-border p-6\">\n                  <h3 className=\"text-lg font-semibold text-foreground mb-4\">Select Report Template</h3>\n                  <div className=\"space-y-3\">\n                    {REPORT_TEMPLATES.map((template) => (\n                      <label\n                        key={template.id}\n                        className={`flex items-start gap-4 p-4 rounded-lg border-2 cursor-pointer transition-all ${\n                          selectedTemplate.id === template.id\n                            ? \"border-primary bg-primary/5\"\n                            : \"border-border hover:border-muted-foreground\"\n                        }`}\n                      >\n                        <input\n                          type=\"radio\"\n                          name=\"template\"\n                          value={template.id}\n                          checked={selectedTemplate.id === template.id}\n                          onChange={() => setSelectedTemplate(template)}\n                          className=\"mt-1 w-4 h-4 text-primary\"\n                        />\n                        <div>\n                          <p className=\"font-semibold text-foreground\">{template.name}</p>\n                          <p className=\"text-sm text-muted-foreground\">{template.description}</p>\n                          <div className=\"mt-2 flex flex-wrap gap-1\">\n                            {template.requiredFields.map((field) => (\n                              <span key={field} className=\"px-2 py-0.5 bg-destructive/10 text-destructive text-xs rounded\">{field} *</span>\n                            ))}\n                          </div>\n                        </div>\n                      </label>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Step 2: Map Columns */}\n            {currentStep === 1 && (\n              <div className=\"max-w-5xl mx-auto\">\n                <div className=\"bg-background rounded-xl shadow-sm border border-border p-6\">\n                  <div className=\"flex items-center justify-between mb-6\">\n                    <div>\n                      <h2 className=\"text-2xl font-bold text-foreground\">Map Columns</h2>\n                      <p className=\"text-muted-foreground\">\n                        File ID: <code className=\"bg-muted px-1 py-0.5 rounded text-xs\">{fileId}</code>\n                        {previewData.length > 0 && <span className=\"ml-2\">({previewData.length} preview rows)</span>}\n                      </p>\n                    </div>\n                    <div className=\"flex gap-2\">\n                      <button onClick={() => setCurrentStep(0)} className=\"px-4 py-2 text-muted-foreground hover:text-foreground transition-colors flex items-center gap-2\">\n                        <ArrowLeft className=\"w-4 h-4\" /> Back\n                      </button>\n                      <button\n                        onClick={handleSaveMappingAndGenerate}\n                        disabled={!allRequiredFieldsMapped || isLoading}\n                        className=\"px-6 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2\"\n                      >\n                        {isLoading ? <><Loader2 className=\"w-4 h-4 animate-spin\" /> Processing...</> : <><ArrowRight className=\"w-4 h-4\" /> Generate Report</>}\n                      </button>\n                    </div>\n                  </div>\n                  <SavedMappings\n                    template={selectedTemplate}\n                    currentMappings={mappings}\n                    onLoadMapping={handleMappingComplete}\n                  />\n                  <div className=\"mt-6\">\n                    <ColumnMapper\n                      columns={columns}\n                      template={selectedTemplate}\n                      onMappingComplete={handleMappingComplete}\n                      data={previewData}\n                    />\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Step 3: Preview & Export */}\n            {currentStep === 2 && processedData && (\n              <div className=\"max-w-6xl mx-auto\">\n                <div className=\"bg-background rounded-xl shadow-sm border border-border p-6\">\n                  <div className=\"flex items-center justify-between mb-6\">\n                    <div>\n                      <h2 className=\"text-2xl font-bold text-foreground\">Report Preview</h2>\n                      <p className=\"text-muted-foreground\">\n                        Report ID: <code className=\"bg-muted px-1 py-0.5 rounded text-xs\">{reportId}</code>\n                      </p>\n                    </div>\n                    <div className=\"flex gap-2\">\n                      <button onClick={() => setCurrentStep(1)} className=\"px-4 py-2 text-muted-foreground hover:text-foreground transition-colors flex items-center gap-2\">\n                        <ArrowLeft className=\"w-4 h-4\" /> Back\n                      </button>\n                      <button onClick={resetReport} className=\"px-4 py-2 text-primary hover:text-primary/80 transition-colors\">\n                        New Report\n                      </button>\n                    </div>\n                  </div>\n                  \n                  {/* Report Config */}\n                  <div className=\"mb-6 p-4 bg-muted rounded-lg border border-border\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                      <div>\n                        <label className=\"block text-sm font-medium text-foreground mb-1\">Report Title</label>\n                        <input\n                          type=\"text\"\n                          value={reportConfig.title}\n                          onChange={(e) => setReportConfig((prev) => ({ ...prev, title: e.target.value }))}\n                          className=\"w-full px-3 py-2 bg-background border border-input rounded-lg focus:ring-2 focus:ring-ring focus:border-ring text-foreground\"\n                          placeholder=\"Enter report title\"\n                        />\n                      </div>\n                      <div>\n                        <label className=\"block text-sm font-medium text-foreground mb-1\">Period</label>\n                        <select\n                          value={reportConfig.period}\n                          onChange={(e) => setReportConfig((prev) => ({ ...prev, period: e.target.value }))}\n                          className=\"w-full px-3 py-2 bg-background border border-input rounded-lg focus:ring-2 focus:ring-ring focus:border-ring text-foreground\"\n                        >\n                          <option value=\"\">Select Period</option>\n                          <option value=\"Daily\">Daily</option>\n                          <option value=\"Weekly\">Weekly</option>\n                          <option value=\"Monthly\">Monthly</option>\n                          <option value=\"Yearly\">Yearly</option>\n                        </select>\n                      </div>\n                    </div>\n                    <div className=\"mt-4\">\n                      <label className=\"flex items-center gap-2\">\n                        <input\n                          type=\"checkbox\"\n                          checked={reportConfig.deleteAfterExport}\n                          onChange={(e) => setReportConfig((prev) => ({ ...prev, deleteAfterExport: e.target.checked }))}\n                          className=\"w-4 h-4 text-primary rounded focus:ring-ring\"\n                        />\n                        <span className=\"text-sm text-foreground\">Delete uploaded data after export (for privacy)</span>\n                      </label>\n                    </div>\n                  </div>\n\n                  {/* Export Buttons */}\n                  <div className=\"flex gap-2 mb-6\">\n                    <button\n                      onClick={() => handleExport(\"pdf\")}\n                      disabled={isLoading}\n                      className=\"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors\"\n                    >\n                      <Download className=\"w-4 h-4\" /> Export PDF\n                    </button>\n                    <button\n                      onClick={() => handleExport(\"excel\")}\n                      disabled={isLoading}\n                      className=\"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors\"\n                    >\n                      <Download className=\"w-4 h-4\" /> Export Excel\n                    </button>\n                  </div>\n\n                  {/* Summary Cards */}\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\n                    <div className=\"bg-blue-50 dark:bg-blue-950/30 p-4 rounded-lg\">\n                      <p className=\"text-sm text-blue-600 font-medium\">Total Records</p>\n                      <p className=\"text-2xl font-bold text-blue-900 dark:text-blue-100\">{processedData.summary.totalRows.toLocaleString()}</p>\n                    </div>\n                    {processedData.summary.totalAmount !== undefined && (\n                      <div className=\"bg-green-50 dark:bg-green-950/30 p-4 rounded-lg\">\n                        <p className=\"text-sm text-green-600 font-medium\">Total Amount</p>\n                        <p className=\"text-2xl font-bold text-green-900 dark:text-green-100\">\n                          {new Intl.NumberFormat(\"id-ID\", { style: \"currency\", currency: \"IDR\", minimumFractionDigits: 0 }).format(processedData.summary.totalAmount)}\n                        </p>\n                      </div>\n                    )}\n                    {processedData.summary.averageAmount !== undefined && (\n                      <div className=\"bg-purple-50 dark:bg-purple-950/30 p-4 rounded-lg\">\n                        <p className=\"text-sm text-purple-600 font-medium\">Average Amount</p>\n                        <p className=\"text-2xl font-bold text-purple-900 dark:text-purple-100\">\n                          {new Intl.NumberFormat(\"id-ID\", { style: \"currency\", currency: \"IDR\", minimumFractionDigits: 0 }).format(processedData.summary.averageAmount)}\n                        </p>\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Data Preview */}\n                  <div className=\"border rounded-lg overflow-hidden\">\n                    <div className=\"bg-muted p-4 border-b\">\n                      <p className=\"font-medium\">Data Preview ({processedData.rawData.length} rows)</p>\n                    </div>\n                    <div className=\"overflow-x-auto\">\n                      <table className=\"w-full text-sm\">\n                        <thead className=\"bg-muted border-b\">\n                          <tr>\n                            {mappings.map((mapping, index) => (\n                              <th key={index} className=\"px-4 py-3 text-left font-medium whitespace-nowrap\">\n                                {mapping.targetField}\n                                <span className=\"block text-xs text-muted-foreground font-normal\">({mapping.sourceColumn})</span>\n                              </th>\n                            ))}\n                          </tr>\n                        </thead>\n                        <tbody className=\"divide-y\">\n                          {processedData.rawData.slice(0, 10).map((row, rowIndex) => (\n                            <tr key={rowIndex} className=\"hover:bg-muted/50\">\n                              {mappings.map((mapping, colIndex) => (\n                                <td key={colIndex} className=\"px-4 py-3 whitespace-nowrap\">\n                                  {String(row[mapping.targetField] ?? \"\")}\n                                </td>\n                              ))}\n                            </tr>\n                          ))}\n                        </tbody>\n                      </table>\n                    </div>\n                  </div>\n\n                  {/* Category Breakdown */}\n                  {processedData.summary.categories && Object.keys(processedData.summary.categories).length > 0 && (\n                    <div className=\"mt-6 border rounded-lg p-4\">\n                      <h4 className=\"font-semibold mb-4\">Category Breakdown</h4>\n                      <div className=\"space-y-2\">\n                        {Object.entries(processedData.summary.categories)\n                          .sort(([, a], [, b]) => b - a)\n                          .map(([category, count]) => (\n                            <div key={category} className=\"flex items-center justify-between\">\n                              <span className=\"text-foreground\">{category}</span>\n                              <div className=\"flex items-center gap-4\">\n                                <div className=\"w-32 h-2 bg-muted rounded-full overflow-hidden\">\n                                  <div className=\"h-full bg-primary rounded-full\" style={{ width: `${(count / processedData.summary.totalRows) * 100}%` }} />\n                                </div>\n                                <span className=\"text-sm font-medium w-12 text-right\">{count}</span>\n                              </div>\n                            </div>\n                          ))}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n          </>\n        )}\n\n        {/* History Tab */}\n        {activeTab === \"history\" && <ReportHistoryViewer />}\n\n        {/* Settings Tab */}\n        {activeTab === \"settings\" && <BackupRestore />}\n\n        {/* Admin Tab */}\n        {activeTab === \"admin\" && isAdmin && <UserManagement />}\n      </div>\n\n      {/* Footer */}\n      <footer className=\"bg-background border-t mt-auto\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <p className=\"text-center text-sm text-muted-foreground\">\n            Automated Reporting & Data Recap System  Built for schools, offices, and SMEs\n          </p>\n        </div>\n      </footer>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}